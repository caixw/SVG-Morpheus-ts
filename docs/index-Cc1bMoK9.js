/*!
 * SVG Morpheus TypeScript Demo - Compiled Version
 * Version: v1.3.0
 * Build Date: 2025-08-08T16:52:39.766Z
 * Repository: https://github.com/caixw/SVG-Morpheus-ts
 */
function t(t,e){let r=t.length;Array.isArray(t[0])||(t=[t]),Array.isArray(e[0])||(e=e.map(t=>[t]));let n=e[0].length,a=e[0].map((t,r)=>e.map(t=>t[r])),o=t.map(t=>a.map(e=>{let r=0;if(!Array.isArray(t)){for(let n of e)r+=t*n;return r}for(let n=0;n<t.length;n++)r+=t[n]*(e[n]||0);return r}));return 1===r&&(o=o[0]),1===n?o.map(t=>t[0]):o}function e(t){return"string"===r(t)}function r(t){return(Object.prototype.toString.call(t).match(/^\[object\s+(.*?)\]$/)[1]||"").toLowerCase()}function n(t,{precision:e,unit:r}){return a(t)?"none":s(t,e)+(r??"")}function a(t){return Number.isNaN(t)||t instanceof Number&&(null==t?void 0:t.none)}function o(t){return a(t)?0:t}function s(t,e){if(0===t)return 0;let r=~~t,n=0;r&&e&&(n=1+~~Math.log10(Math.abs(r)));const a=10**(e-n);return Math.floor(t*a+.5)/a}const i={deg:1,grad:.9,rad:180/Math.PI,turn:360};function c(t){if(!t)return;t=t.trim();const e=/^-?[\d.]+$/,r=/%|deg|g?rad|turn$/,n=/\/?\s*(none|[-\w.]+(?:%|deg|g?rad|turn)?)/g;let a=t.match(/^([a-z]+)\((.+?)\)$/i);if(a){let t=[];return a[2].replace(n,(n,a)=>{let o=a.match(r),s=a;if(o){let t=o[0],e=s.slice(0,-t.length);"%"===t?(s=new Number(e/100),s.type="<percentage>"):(s=new Number(e*i[t]),s.type="<angle>",s.unit=t)}else e.test(s)?(s=new Number(s),s.type="<number>"):"none"===s&&(s=new Number(NaN),s.none=!0);n.startsWith("/")&&(s=s instanceof Number?s:new Number(s),s.alpha=!0),"object"==typeof s&&s instanceof Number&&(s.raw=a),t.push(s)}),{name:a[1].toLowerCase(),rawName:a[1],rawArgs:a[2],args:t}}}function l(t){return t[t.length-1]}function h(t,e,r){return isNaN(t)?e:isNaN(e)?t:t+(e-t)*r}function u(t,e,r){return(r-t)/(e-t)}function f(t,e,r){return h(e[0],e[1],u(t[0],t[1],r))}function m(t){return t.map(t=>t.split("|").map(t=>{let e=(t=t.trim()).match(/^(<[a-z]+>)\[(-?[.\d]+),\s*(-?[.\d]+)\]?$/);if(e){let t=new String(e[1]);return t.range=[+e[2],+e[3]],t}return t}))}function d(t,e,r){return Math.max(Math.min(r,e),t)}function p(t,e){return Math.sign(t)===Math.sign(e)?t:-t}function g(t,e){return p(Math.abs(t)**e,t)}function b(t,e){return 0===e?0:t/e}function y(t,e,r=0,n=t.length){for(;r<n;){const a=r+n>>1;t[a]<e?r=a+1:n=a}return r}var M=Object.freeze({__proto__:null,bisectLeft:y,clamp:d,copySign:p,interpolate:h,interpolateInv:u,isNone:a,isString:e,last:l,mapRange:f,multiplyMatrices:t,parseCoordGrammar:m,parseFunction:c,serializeNumber:n,skipNone:o,spow:g,toPrecision:s,type:r,zdiv:b});const w=new class{add(t,e,r){if("string"==typeof arguments[0])(Array.isArray(t)?t:[t]).forEach(function(t){this[t]=this[t]||[],e&&this[t][r?"unshift":"push"](e)},this);else for(var t in arguments[0])this.add(t,arguments[0][t],arguments[1])}run(t,e){this[t]=this[t]||[],this[t].forEach(function(t){t.call(e&&e.context?e.context:e,e)})}};var _={gamut_mapping:"css",precision:5,deltaE:"76",verbose:"test"!=="production".toLowerCase(),warn:function(t){var e,r;this.verbose&&(null==(r=null==(e=null==globalThis?void 0:globalThis.console)?void 0:e.warn)||r.call(e,t))}};const v={D50:[.3457/.3585,1,.2958/.3585],D65:[.3127/.329,1,.3583/.329]};function I(t){return Array.isArray(t)?t:v[t]}function x(e,r,n,a={}){if(e=I(e),r=I(r),!e||!r)throw new TypeError(`Missing white point to convert ${e?"":"from"}${e||r?"":"/"}${r?"":"to"}`);if(e===r)return n;let o={W1:e,W2:r,XYZ:n,options:a};if(w.run("chromatic-adaptation-start",o),o.M||(o.W1===v.D65&&o.W2===v.D50?o.M=[[1.0479297925449969,.022946870601609652,-.05019226628920524],[.02962780877005599,.9904344267538799,-.017073799063418826],[-.009243040646204504,.015055191490298152,.7518742814281371]]:o.W1===v.D50&&o.W2===v.D65&&(o.M=[[.955473421488075,-.02309845494876471,.06325924320057072],[-.0283697093338637,1.0099953980813041,.021041441191917323],[.012314014864481998,-.020507649298898964,1.330365926242124]])),w.run("chromatic-adaptation-end",o),o.M)return t(o.M,o.XYZ);throw new TypeError("Only Bradford CAT with white points D50 and D65 supported for now.")}const C=new Set(["<number>","<percentage>","<angle>"]);function k(t,e,r,n){return Object.entries(t.coords).map(([t,a],o)=>{let s,i=e.coordGrammar[o],c=n[o],l=null==c?void 0:c.type;if(s=c.none?i.find(t=>C.has(t)):i.find(t=>t==l),!s){let e=a.name||t;throw new TypeError(`${l??c.raw} not allowed for ${e} in ${r}()`)}let h=s.range;"<percentage>"===l&&(h||=[0,1]);let u=a.range||a.refRange;return h&&u&&(n[o]=f(h,u,n[o])),s})}function N(t,{meta:e}={}){var r,n,a,o;let s={str:null==(r=String(t))?void 0:r.trim()};if(w.run("parse-start",s),s.color)return s.color;if(s.parsed=c(s.str),s.parsed){let t=s.parsed.name;if("color"===t){let t=s.parsed.args.shift(),r=t.startsWith("--")?t.substring(2):`--${t}`,i=[t,r],c=s.parsed.rawArgs.indexOf("/")>0?s.parsed.args.pop():1;for(let a of E.all){let r=a.getFormat("color");if(r&&(i.includes(r.id)||(null==(n=r.ids)?void 0:n.filter(t=>i.includes(t)).length))){const n=Object.keys(a.coords).map((t,e)=>s.parsed.args[e]||0);let o;return r.coordGrammar&&(o=k(a,r,"color",n)),e&&Object.assign(e,{formatId:"color",types:o}),r.id.startsWith("--")&&!t.startsWith("--")&&_.warn(`${a.name} is a non-standard space and not currently supported in the CSS spec. Use prefixed color(${r.id}) instead of color(${t}).`),t.startsWith("--")&&!r.id.startsWith("--")&&_.warn(`${a.name} is a standard space and supported in the CSS spec. Use color(${r.id}) instead of prefixed color(${t}).`),{spaceId:a.id,coords:n,alpha:c}}}let l="",h=t in E.registry?t:r;if(h in E.registry){let t=null==(o=null==(a=E.registry[h].formats)?void 0:a.color)?void 0:o.id;t&&(l=`Did you mean color(${t})?`)}throw new TypeError(`Cannot parse color(${t}). `+(l||"Missing a plugin?"))}for(let r of E.all){let n=r.getFormat(t);if(n&&"function"===n.type){let a=1;(n.lastAlpha||l(s.parsed.args).alpha)&&(a=s.parsed.args.pop());let o,i=s.parsed.args;return n.coordGrammar&&(o=k(r,n,t,i)),e&&Object.assign(e,{formatId:n.name,types:o}),{spaceId:r.id,coords:i,alpha:a}}}}else for(let i of E.all)for(let t in i.formats){let r=i.formats[t];if("custom"!==r.type||r.test&&!r.test(s.str))continue;let n=r.parse(s.str);if(n)return n.alpha??=1,e&&(e.formatId=t),n}throw new TypeError(`Could not parse ${t} as a color. Missing a plugin?`)}function $(t){if(Array.isArray(t))return t.map($);if(!t)throw new TypeError("Empty color reference");e(t)&&(t=N(t));let r=t.space||t.spaceId;return r instanceof E||(t.space=E.get(r)),void 0===t.alpha&&(t.alpha=1),t}class E{constructor(t){var e;this.id=t.id,this.name=t.name,this.base=t.base?E.get(t.base):null,this.aliases=t.aliases,this.base&&(this.fromBase=t.fromBase,this.toBase=t.toBase);let r=t.coords??this.base.coords;for(let a in r)"name"in r[a]||(r[a].name=a);this.coords=r;let n=t.white??this.base.white??"D65";this.white=I(n),this.formats=t.formats??{};for(let a in this.formats){let t=this.formats[a];t.type||="function",t.name||=a}(null==(e=this.formats.color)?void 0:e.id)||(this.formats.color={...this.formats.color??{},id:t.cssId||this.id}),t.gamutSpace?this.gamutSpace="self"===t.gamutSpace?this:E.get(t.gamutSpace):this.isPolar?this.gamutSpace=this.base:this.gamutSpace=this,this.gamutSpace.isUnbounded&&(this.inGamut=(t,e)=>!0),this.referred=t.referred,Object.defineProperty(this,"path",{value:A(this).reverse(),writable:!1,enumerable:!0,configurable:!0}),w.run("colorspace-init-end",this)}inGamut(t,{epsilon:e=75e-6}={}){if(!this.equals(this.gamutSpace))return t=this.to(this.gamutSpace,t),this.gamutSpace.inGamut(t,{epsilon:e});let r=Object.values(this.coords);return t.every((t,n)=>{let a=r[n];if("angle"!==a.type&&a.range){if(Number.isNaN(t))return!0;let[r,n]=a.range;return(void 0===r||t>=r-e)&&(void 0===n||t<=n+e)}return!0})}get isUnbounded(){return Object.values(this.coords).every(t=>!("range"in t))}get cssId(){var t,e;return(null==(e=null==(t=this.formats)?void 0:t.color)?void 0:e.id)||this.id}get isPolar(){for(let t in this.coords)if("angle"===this.coords[t].type)return!0;return!1}getFormat(t){if("object"==typeof t)return t=R(t,this);let e;return e="default"===t?Object.values(this.formats)[0]:this.formats[t],e?(e=R(e,this),e):null}equals(t){return!!t&&(this===t||this.id===t||this.id===t.id)}to(t,e){if(1===arguments.length){const r=$(t);[t,e]=[r.space,r.coords]}if(t=E.get(t),this.equals(t))return e;e=e.map(t=>Number.isNaN(t)?0:t);let r,n,a=this.path,o=t.path;for(let s=0;s<a.length&&a[s].equals(o[s]);s++)r=a[s],n=s;if(!r)throw new Error(`Cannot convert between color spaces ${this} and ${t}: no connection space was found`);for(let s=a.length-1;s>n;s--)e=a[s].toBase(e);for(let s=n+1;s<o.length;s++)e=o[s].fromBase(e);return e}from(t,e){if(1===arguments.length){const r=$(t);[t,e]=[r.space,r.coords]}return(t=E.get(t)).to(this,e)}toString(){return`${this.name} (${this.id})`}getMinCoords(){let t=[];for(let e in this.coords){let r=this.coords[e],n=r.range||r.refRange;t.push((null==n?void 0:n.min)??0)}return t}static registry={};static get all(){return[...new Set(Object.values(E.registry))]}static register(t,e){if(1===arguments.length&&(t=(e=arguments[0]).id),e=this.get(e),this.registry[t]&&this.registry[t]!==e)throw new Error(`Duplicate color space registration: '${t}'`);if(this.registry[t]=e,1===arguments.length&&e.aliases)for(let r of e.aliases)this.register(r,e);return e}static get(t,...e){if(!t||t instanceof E)return t;if("string"===r(t)){let e=E.registry[t.toLowerCase()];if(!e)throw new TypeError(`No color space found with id = "${t}"`);return e}if(e.length)return E.get(...e);throw new TypeError(`${t} is not a valid color space`)}static resolveCoord(t,e){var n;let a,o,s=r(t);if("string"===s?t.includes(".")?[a,o]=t.split("."):[a,o]=[,t]:Array.isArray(t)?[a,o]=t:(a=t.space,o=t.coordId),a=E.get(a),a||(a=e),!a)throw new TypeError(`Cannot resolve coordinate reference ${t}: No color space specified and relative references are not allowed here`);if(s=r(o),"number"===s||"string"===s&&o>=0){let t=Object.entries(a.coords)[o];if(t)return{space:a,id:t[0],index:o,...t[1]}}a=E.get(a);let i=o.toLowerCase(),c=0;for(let r in a.coords){let t=a.coords[r];if(r.toLowerCase()===i||(null==(n=t.name)?void 0:n.toLowerCase())===i)return{space:a,id:r,index:c,...t};c++}throw new TypeError(`No "${o}" coordinate found in ${a.name}. Its coordinates are: ${Object.keys(a.coords).join(", ")}`)}static DEFAULT_FORMAT={type:"functions",name:"color"}}function A(t){let e=[t];for(let r=t;r=r.base;)e.push(r);return e}function R(t,{coords:e}={}){if(t.coords&&!t.coordGrammar){t.type||="function",t.name||="color",t.coordGrammar=m(t.coords);let r=Object.entries(e).map(([e,r],n)=>{let a=t.coordGrammar[n][0],o=r.range||r.refRange,s=a.range,i="";return"<percentage>"==a?(s=[0,100],i="%"):"<angle>"==a&&(i="deg"),{fromRange:o,toRange:s,suffix:i}});t.serializeCoords=(t,e)=>t.map((t,a)=>{let{fromRange:o,toRange:s,suffix:i}=r[a];return o&&s&&(t=f(o,s,t)),t=n(t,{precision:e,unit:i})})}return t}var S=new E({id:"xyz-d65",name:"XYZ D65",coords:{x:{name:"X"},y:{name:"Y"},z:{name:"Z"}},white:"D65",formats:{color:{ids:["xyz-d65","xyz"]}},aliases:["xyz"]});class B extends E{constructor(e){e.coords||(e.coords={r:{range:[0,1],name:"Red"},g:{range:[0,1],name:"Green"},b:{range:[0,1],name:"Blue"}}),e.base||(e.base=S),e.toXYZ_M&&e.fromXYZ_M&&(e.toBase??=r=>{let n=t(e.toXYZ_M,r);return this.white!==this.base.white&&(n=x(this.white,this.base.white,n)),n},e.fromBase??=r=>(r=x(this.base.white,this.white,r),t(e.fromXYZ_M,r))),e.referred??="display",super(e)}}function P(t,e){return t=$(t),!e||t.space.equals(e)?t.coords.slice():(e=E.get(e)).from(t)}function j(t,e){t=$(t);let{space:r,index:n}=E.resolveCoord(e,t.space);return P(t,r)[n]}function F(t,e,r){return t=$(t),e=E.get(e),t.coords=e.to(t.space,r),t}function q(t,e,n){if(t=$(t),2===arguments.length&&"object"===r(arguments[1])){let e=arguments[1];for(let r in e)q(t,r,e[r])}else{"function"==typeof n&&(n=n(j(t,e)));let{space:r,index:a}=E.resolveCoord(e,t.space),o=P(t,r);o[a]=n,F(t,r,o)}return t}F.returns="color",q.returns="color";var L=new E({id:"xyz-d50",name:"XYZ D50",white:"D50",base:S,fromBase:t=>x(S.white,"D50",t),toBase:t=>x("D50",S.white,t)});const D=216/24389,O=24/116,z=24389/27;let T=v.D50;var G=new E({id:"lab",name:"Lab",coords:{l:{refRange:[0,100],name:"Lightness"},a:{refRange:[-125,125]},b:{refRange:[-125,125]}},white:T,base:L,fromBase(t){let e=t.map((t,e)=>t/T[e]).map(t=>t>D?Math.cbrt(t):(z*t+16)/116);return[116*e[1]-16,500*(e[0]-e[1]),200*(e[1]-e[2])]},toBase(t){let e=[];return e[1]=(t[0]+16)/116,e[0]=t[1]/500+e[1],e[2]=e[1]-t[2]/200,[e[0]>O?Math.pow(e[0],3):(116*e[0]-16)/z,t[0]>8?Math.pow((t[0]+16)/116,3):t[0]/z,e[2]>O?Math.pow(e[2],3):(116*e[2]-16)/z].map((t,e)=>t*T[e])},formats:{lab:{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});function H(t){return(t%360+360)%360}var W=new E({id:"lch",name:"LCH",coords:{l:{refRange:[0,100],name:"Lightness"},c:{refRange:[0,150],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:G,fromBase(t){let e,[r,n,a]=t;return e=Math.abs(n)<.02&&Math.abs(a)<.02?NaN:180*Math.atan2(a,n)/Math.PI,[r,Math.sqrt(n**2+a**2),H(e)]},toBase(t){let[e,r,n]=t;return r<0&&(r=0),isNaN(n)&&(n=0),[e,r*Math.cos(n*Math.PI/180),r*Math.sin(n*Math.PI/180)]},formats:{lch:{coords:["<number> | <percentage>","<number> | <percentage>","<number> | <angle>"]}}});const Y=25**7,X=Math.PI,Z=180/X,V=X/180;function J(t){const e=t*t;return e*e*e*t}function U(t,e,{kL:r=1,kC:n=1,kH:a=1}={}){[t,e]=$([t,e]);let[o,s,i]=G.from(t),c=W.from(G,[o,s,i])[1],[l,h,u]=G.from(e),f=W.from(G,[l,h,u])[1];c<0&&(c=0),f<0&&(f=0);let m=J((c+f)/2),d=.5*(1-Math.sqrt(m/(m+Y))),p=(1+d)*s,g=(1+d)*h,b=Math.sqrt(p**2+i**2),y=Math.sqrt(g**2+u**2),M=0===p&&0===i?0:Math.atan2(i,p),w=0===g&&0===u?0:Math.atan2(u,g);M<0&&(M+=2*X),w<0&&(w+=2*X),M*=Z,w*=Z;let v,I=l-o,x=y-b,C=w-M,k=M+w,N=Math.abs(C);b*y===0?v=0:N<=180?v=C:C>180?v=C-360:C<-180?v=C+360:_.warn("the unthinkable has happened");let E,A=2*Math.sqrt(y*b)*Math.sin(v*V/2),R=(o+l)/2,S=(b+y)/2,B=J(S);E=b*y===0?k:N<=180?k/2:k<360?(k+360)/2:(k-360)/2;let P=(R-50)**2,j=1+.015*P/Math.sqrt(20+P),F=1+.045*S,q=1;q-=.17*Math.cos((E-30)*V),q+=.24*Math.cos(2*E*V),q+=.32*Math.cos((3*E+6)*V),q-=.2*Math.cos((4*E-63)*V);let L=1+.015*S*q,D=30*Math.exp(-1*((E-275)/25)**2),O=2*Math.sqrt(B/(B+Y)),z=(I/(r*j))**2;return z+=(x/(n*F))**2,z+=(A/(a*L))**2,z+=-1*Math.sin(2*D*V)*O*(x/(n*F))*(A/(a*L)),Math.sqrt(z)}const Q=[[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],K=[[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],tt=[[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],et=[[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]];var rt=new E({id:"oklab",name:"Oklab",coords:{l:{refRange:[0,1],name:"Lightness"},a:{refRange:[-.4,.4]},b:{refRange:[-.4,.4]}},white:"D65",base:S,fromBase(e){let r=t(Q,e).map(t=>Math.cbrt(t));return t(tt,r)},toBase(e){let r=t(et,e).map(t=>t**3);return t(K,r)},formats:{oklab:{coords:["<percentage> | <number>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});function nt(t,e){[t,e]=$([t,e]);let[r,n,a]=rt.from(t),[o,s,i]=rt.from(e),c=r-o,l=n-s,h=a-i;return Math.sqrt(c**2+l**2+h**2)}function at(t,e,{epsilon:r=75e-6}={}){t=$(t),e||(e=t.space),e=E.get(e);let n=t.coords;return e!==t.space&&(n=e.from(t)),e.inGamut(n,{epsilon:r})}function ot(t){return{space:t.space,coords:t.coords.slice(),alpha:t.alpha}}function st(t,e,r="lab"){let n=(r=E.get(r)).from(t),a=r.from(e);return Math.sqrt(n.reduce((t,e,r)=>{let n=a[r];return isNaN(e)||isNaN(n)?t:t+(n-e)**2},0))}const it=Math.PI/180;var ct=new E({id:"xyz-abs-d65",cssId:"--xyz-abs-d65",name:"Absolute XYZ D65",coords:{x:{refRange:[0,9504.7],name:"Xa"},y:{refRange:[0,1e4],name:"Ya"},z:{refRange:[0,10888.3],name:"Za"}},base:S,fromBase:t=>t.map(t=>Math.max(203*t,0)),toBase:t=>t.map(t=>Math.max(t/203,0))});const lt=1.15,ht=.66,ut=2610/16384,ft=16384/2610,mt=.8359375,dt=2413/128,pt=18.6875,gt=1.7*2523/32,bt=32/(1.7*2523),yt=-.56,Mt=16295499532821565e-27,wt=[[.41478972,.579999,.014648],[-.20151,1.120649,.0531008],[-.0166008,.2648,.6684799]],_t=[[1.9242264357876067,-1.0047923125953657,.037651404030618],[.35031676209499907,.7264811939316552,-.06538442294808501],[-.09098281098284752,-.3127282905230739,1.5227665613052603]],vt=[[.5,.5,0],[3.524,-4.066708,.542708],[.199076,1.096799,-1.295875]],It=[[1,.1386050432715393,.05804731615611886],[.9999999999999999,-.1386050432715393,-.05804731615611886],[.9999999999999998,-.09601924202631895,-.8118918960560388]];var xt=new E({id:"jzazbz",name:"Jzazbz",coords:{jz:{refRange:[0,1],name:"Jz"},az:{refRange:[-.5,.5]},bz:{refRange:[-.5,.5]}},base:ct,fromBase(e){let[r,n,a]=e,o=t(wt,[lt*r-(lt-1)*a,ht*n-(ht-1)*r,a]).map(function(t){return((mt+dt*(t/1e4)**ut)/(1+pt*(t/1e4)**ut))**gt}),[s,i,c]=t(vt,o);return[(1+yt)*s/(1+yt*s)-Mt,i,c]},toBase(e){let[r,n,a]=e,o=t(It,[(r+Mt)/(1+yt-yt*(r+Mt)),n,a]).map(function(t){return 1e4*((mt-t**bt)/(pt*t**bt-dt))**ft}),[s,i,c]=t(_t,o),l=(s+(lt-1)*c)/lt;return[l,(i+(ht-1)*l)/ht,c]},formats:{color:{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}}),Ct=new E({id:"jzczhz",name:"JzCzHz",coords:{jz:{refRange:[0,1],name:"Jz"},cz:{refRange:[0,1],name:"Chroma"},hz:{refRange:[0,360],type:"angle",name:"Hue"}},base:xt,fromBase(t){let e,[r,n,a]=t;const o=2e-4;return e=Math.abs(n)<o&&Math.abs(a)<o?NaN:180*Math.atan2(a,n)/Math.PI,[r,Math.sqrt(n**2+a**2),H(e)]},toBase:t=>[t[0],t[1]*Math.cos(t[2]*Math.PI/180),t[1]*Math.sin(t[2]*Math.PI/180)]});const kt=.8359375,Nt=2413/128,$t=18.6875,Et=2610/16384,At=2523/32,Rt=16384/2610,St=32/2523,Bt=[[.3592832590121217,.6976051147779502,-.035891593232029],[-.1920808463704993,1.100476797037432,.0753748658519118],[.0070797844607479,.0748396662186362,.8433265453898765]],Pt=[[.5,.5,0],[6610/4096,-13613/4096,7003/4096],[17933/4096,-17390/4096,-543/4096]],jt=[[.9999999999999998,.0086090370379328,.111029625003026],[.9999999999999998,-.0086090370379328,-.1110296250030259],[.9999999999999998,.5600313357106791,-.3206271749873188]],Ft=[[2.0701522183894223,-1.3263473389671563,.2066510476294053],[.3647385209748072,.6805660249472273,-.0453045459220347],[-.0497472075358123,-.0492609666966131,1.1880659249923042]];var qt=new E({id:"ictcp",name:"ICTCP",coords:{i:{refRange:[0,1],name:"I"},ct:{refRange:[-.5,.5],name:"CT"},cp:{refRange:[-.5,.5],name:"CP"}},base:ct,fromBase:e=>function(e){let r=e.map(function(t){return((kt+Nt*(t/1e4)**Et)/(1+$t*(t/1e4)**Et))**At});return t(Pt,r)}(t(Bt,e)),toBase(e){let r=function(e){return t(jt,e).map(function(t){return 1e4*(Math.max(t**St-kt,0)/(Nt-$t*t**St))**Rt})}(e);return t(Ft,r)}});const Lt=v.D65,Dt=1/.42,Ot=2*Math.PI,zt=[[.401288,.650173,-.051461],[-.250268,1.204414,.045854],[-.002079,.048952,.953127]],Tt=[[1.8620678550872327,-1.0112546305316843,.14918677544445175],[.38752654323613717,.6214474419314753,-.008973985167612518],[-.015841498849333856,-.03412293802851557,1.0499644368778496]],Gt=[[460,451,288],[460,-891,-261],[460,-220,-6300]],Ht={dark:[.8,.525,.8],dim:[.9,.59,.9],average:[1,.69,1]},Wt={h:[20.14,90,164.25,237.53,380.14],e:[.8,.7,1,1.2,.8],H:[0,100,200,300,400]},Yt=180/Math.PI,Xt=Math.PI/180;function Zt(t,e){return t.map(t=>{const r=g(e*Math.abs(t)*.01,.42);return 400*p(r,t)/(r+27.13)})}function Vt(e,r,n,a,o){const s={};s.discounting=o,s.refWhite=e,s.surround=a;const i=e.map(t=>100*t);s.la=r,s.yb=n;const c=i[1],l=t(zt,i),u=(a=Ht[s.surround])[0];s.c=a[1],s.nc=a[2];const f=(1/(5*s.la+1))**4;s.fl=f*s.la+.1*(1-f)*(1-f)*Math.cbrt(5*s.la),s.flRoot=s.fl**.25,s.n=s.yb/c,s.z=1.48+Math.sqrt(s.n),s.nbb=.725*s.n**-.2,s.ncb=s.nbb;const m=Math.max(Math.min(u*(1-1/3.6*Math.exp((-s.la-42)/92)),1),0);s.dRgb=l.map(t=>h(1,c/t,m)),s.dRgbInv=s.dRgb.map(t=>1/t);const d=Zt(l.map((t,e)=>t*s.dRgb[e]),s.fl);return s.aW=s.nbb*(2*d[0]+d[1]+.05*d[2]),s}const Jt=Vt(Lt,64/Math.PI*.2,20,"average",!1);function Ut(e,r){if(!(void 0!==e.J^void 0!==e.Q))throw new Error("Conversion requires one and only one: 'J' or 'Q'");if(!(void 0!==e.C^void 0!==e.M^void 0!==e.s))throw new Error("Conversion requires one and only one: 'C', 'M' or 's'");if(!(void 0!==e.h^void 0!==e.H))throw new Error("Conversion requires one and only one: 'h' or 'H'");if(0===e.J||0===e.Q)return[0,0,0];let n=0;n=void 0!==e.h?H(e.h)*Xt:function(t){let e=(t%400+400)%400;const r=Math.floor(.01*e);e%=100;const[n,a]=Wt.h.slice(r,r+2),[o,s]=Wt.e.slice(r,r+2);return H((e*(s*n-o*a)-100*n*s)/(e*(s-o)-100*s))}(e.H)*Xt;const a=Math.cos(n),o=Math.sin(n);let s=0;void 0!==e.J?s=.1*g(e.J,.5):void 0!==e.Q&&(s=.25*r.c*e.Q/((r.aW+4)*r.flRoot));let i=0;void 0!==e.C?i=e.C/s:void 0!==e.M?i=e.M/r.flRoot/s:void 0!==e.s&&(i=4e-4*e.s**2*(r.aW+4)/r.c);const c=g(i*Math.pow(1.64-Math.pow(.29,r.n),-.73),10/9),l=.25*(Math.cos(n+2)+3.8),h=r.aW*g(s,2/r.c/r.z),u=5e4/13*r.nc*r.ncb*l,f=h/r.nbb,m=23*(f+.305)*b(c,23*u+c*(11*a+108*o)),d=function(t,e){const r=100/e*27.13**Dt;return t.map(t=>{const e=Math.abs(t);return p(r*g(e/(400-e),Dt),t)})}(t(Gt,[f,m*a,m*o]).map(t=>1*t/1403),r.fl);return t(Tt,d.map((t,e)=>t*r.dRgbInv[e])).map(t=>t/100)}function Qt(e,r){const n=e.map(t=>100*t),a=Zt(t(zt,n).map((t,e)=>t*r.dRgb[e]),r.fl),o=a[0]+(-12*a[1]+a[2])/11,s=(a[0]+a[1]-2*a[2])/9,i=(Math.atan2(s,o)%Ot+Ot)%Ot,c=.25*(Math.cos(i+2)+3.8),l=g(5e4/13*r.nc*r.ncb*b(c*Math.sqrt(o**2+s**2),a[0]+a[1]+1.05*a[2]+.305),.9)*Math.pow(1.64-Math.pow(.29,r.n),.73),h=g(r.nbb*(2*a[0]+a[1]+.05*a[2])/r.aW,.5*r.c*r.z),u=100*g(h,2),f=4/r.c*h*(r.aW+4)*r.flRoot,m=l*h,d=m*r.flRoot,p=H(i*Yt),M=function(t){let e=H(t);e<=Wt.h[0]&&(e+=360);const r=y(Wt.h,e)-1,[n,a]=Wt.h.slice(r,r+2),[o,s]=Wt.e.slice(r,r+2),i=(e-n)/o;return Wt.H[r]+100*i/(i+(a-e)/s)}(p);return{J:u,C:m,h:p,s:50*g(r.c*l/(r.aW+4),.5),Q:f,M:d,H:M}}var Kt=new E({id:"cam16-jmh",cssId:"--cam16-jmh",name:"CAM16-JMh",coords:{j:{refRange:[0,100],name:"J"},m:{refRange:[0,105],name:"Colorfulness"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:S,fromBase(t){const e=Qt(t,Jt);return[e.J,e.M,e.h]},toBase:t=>Ut({J:t[0],M:t[1],h:t[2]},Jt)});const te=v.D65,ee=216/24389,re=24389/27;function ne(t){return t>8?Math.pow((t+16)/116,3):t/re}function ae(t,e){const r=function(t){return 116*(t>ee?Math.cbrt(t):(re*t+16)/116)-16}(t[1]);if(0===r)return[0,0,0];const n=Qt(t,oe);return[H(n.h),n.C,r]}const oe=Vt(te,200/Math.PI*ne(50),100*ne(50),"average",!1);var se=new E({id:"hct",name:"HCT",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},c:{refRange:[0,145],name:"Colorfulness"},t:{refRange:[0,100],name:"Tone"}},base:S,fromBase:t=>ae(t),toBase:t=>function(t,e){let[r,n,a]=t,o=[],s=0;if(0===a)return[0,0,0];let i=ne(a);s=a>0?.00379058511492914*a**2+.608983189401032*a+.9155088574762233:9514440756550361e-21*a**2+.08693057439788597*a-21.928975842194614;let c=0,l=1/0;for(;c<=15;){o=Ut({J:s,C:n,h:r},e);const t=Math.abs(o[1]-i);if(t<l){if(t<=2e-12)return o;l=t}s-=(o[1]-i)*s/(2*o[1]),c+=1}return Ut({J:s,C:n,h:r},e)}(t,oe),formats:{color:{id:"--hct",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}});const ie=Math.PI/180,ce=[1,.007,.0228];function le(t){t[1]<0&&(t=se.fromBase(se.toBase(t)));const e=Math.log(Math.max(1+ce[2]*t[1]*oe.flRoot,1))/ce[2],r=t[0]*ie,n=e*Math.cos(r),a=e*Math.sin(r);return[t[2],n,a]}var he={deltaE76:function(t,e){return st(t,e,"lab")},deltaECMC:function(t,e,{l:r=2,c:n=1}={}){[t,e]=$([t,e]);let[a,o,s]=G.from(t),[,i,c]=W.from(G,[a,o,s]),[l,h,u]=G.from(e),f=W.from(G,[l,h,u])[1];i<0&&(i=0),f<0&&(f=0);let m=a-l,d=i-f,p=(o-h)**2+(s-u)**2-d**2,g=.511;a>=16&&(g=.040975*a/(1+.01765*a));let b,y=.0638*i/(1+.0131*i)+.638;Number.isNaN(c)&&(c=0),b=c>=164&&c<=345?.56+Math.abs(.2*Math.cos((c+168)*it)):.36+Math.abs(.4*Math.cos((c+35)*it));let M=Math.pow(i,4),w=Math.sqrt(M/(M+1900)),_=(m/(r*g))**2;return _+=(d/(n*y))**2,_+=p/(y*(w*b+1-w))**2,Math.sqrt(_)},deltaE2000:U,deltaEJz:function(t,e){[t,e]=$([t,e]);let[r,n,a]=Ct.from(t),[o,s,i]=Ct.from(e),c=r-o,l=n-s;Number.isNaN(a)&&Number.isNaN(i)?(a=0,i=0):Number.isNaN(a)?a=i:Number.isNaN(i)&&(i=a);let h=a-i,u=2*Math.sqrt(n*s)*Math.sin(h/2*(Math.PI/180));return Math.sqrt(c**2+l**2+u**2)},deltaEITP:function(t,e){[t,e]=$([t,e]);let[r,n,a]=qt.from(t),[o,s,i]=qt.from(e);return 720*Math.sqrt((r-o)**2+.25*(n-s)**2+(a-i)**2)},deltaEOK:nt,deltaEHCT:function(t,e){[t,e]=$([t,e]);let[r,n,a]=le(se.from(t)),[o,s,i]=le(se.from(e));return Math.sqrt((r-o)**2+(n-s)**2+(a-i)**2)}};const ue={hct:{method:"hct.c",jnd:2,deltaEMethod:"hct",blackWhiteClamp:{}},"hct-tonal":{method:"hct.c",jnd:0,deltaEMethod:"hct",blackWhiteClamp:{channel:"hct.t",min:0,max:100}}};function fe(t,{method:r=_.gamut_mapping,space:n,deltaEMethod:o="",jnd:s=2,blackWhiteClamp:i={}}={}){if(t=$(t),e(arguments[1])?n=arguments[1]:n||(n=t.space),at(t,n=E.get(n),{epsilon:0}))return t;let c;if("css"===r)c=function(t,{space:e}={}){t=$(t),e||(e=t.space),e=E.get(e);const r=E.get("oklch");if(e.isUnbounded)return de(t,e);const n=de(t,r);let a=n.coords[0];if(a>=1){const r=de(me.WHITE,e);return r.alpha=t.alpha,de(r,e)}if(a<=0){const r=de(me.BLACK,e);return r.alpha=t.alpha,de(r,e)}if(at(n,e,{epsilon:0}))return de(n,e);function o(t){const r=de(t,e),n=Object.values(e.coords);return r.coords=r.coords.map((t,e)=>{if("range"in n[e]){const[r,a]=n[e].range;return d(r,t,a)}return t}),r}let s=0,i=n.coords[1],c=!0,l=ot(n),h=o(l),u=nt(h,l);if(u<.02)return h;for(;i-s>1e-4;){const t=(s+i)/2;if(l.coords[1]=t,c&&at(l,e,{epsilon:0}))s=t;else if(h=o(l),u=nt(h,l),u<.02){if(.02-u<1e-4)break;c=!1,s=t}else i=t}return h}(t,{space:n});else{if("clip"===r||at(t,n))c=de(t,n);else{Object.prototype.hasOwnProperty.call(ue,r)&&({method:r,jnd:s,deltaEMethod:o,blackWhiteClamp:i}=ue[r]);let e=U;if(""!==o)for(let t in he)if("deltae"+o.toLowerCase()===t.toLowerCase()){e=he[t];break}let l=fe(de(t,n),{method:"clip",space:n});if(e(t,l)>s){if(3===Object.keys(i).length){let e=E.resolveCoord(i.channel),r=j(de(t,e.space),e.id);if(a(r)&&(r=0),r>=i.max)return de({space:"xyz-d65",coords:v.D65},t.space);if(r<=i.min)return de({space:"xyz-d65",coords:[0,0,0]},t.space)}let o=E.resolveCoord(r),l=o.space,h=o.id,u=de(t,l);u.coords.forEach((t,e)=>{a(t)&&(u.coords[e]=0)});let f=(o.range||o.refRange)[0],m=function(t){const e=t?Math.floor(Math.log10(Math.abs(t))):0;return Math.max(parseFloat("1e"+(e-2)),1e-6)}(s),d=f,p=j(u,h);for(;p-d>m;){let t=ot(u);t=fe(t,{space:n,method:"clip"}),e(u,t)-s<m?d=j(u,h):p=j(u,h),q(u,h,(d+p)/2)}c=de(u,n)}else c=l}if("clip"===r||!at(c,n,{epsilon:0})){let t=Object.values(n.coords).map(t=>t.range||[]);c.coords=c.coords.map((e,r)=>{let[n,a]=t[r];return void 0!==n&&(e=Math.max(n,e)),void 0!==a&&(e=Math.min(e,a)),e})}}return n!==t.space&&(c=de(c,t.space)),t.coords=c.coords,t}fe.returns="color";const me={WHITE:{space:rt,coords:[1,0,0]},BLACK:{space:rt,coords:[0,0,0]}};function de(t,e,{inGamut:r}={}){t=$(t);let n=(e=E.get(e)).from(t),a={space:e,coords:n,alpha:t.alpha};return r&&(a=fe(a,!0===r?void 0:r)),a}function pe(t,{precision:e=_.precision,format:r="default",inGamut:a=!0,...o}={}){var s;let i,c=r;r=(t=$(t)).space.getFormat(r)??t.space.getFormat("default")??E.DEFAULT_FORMAT;let l=t.coords.slice();if(a||=r.toGamut,a&&!at(t)&&(l=fe(ot(t),!0===a?void 0:a).coords),"custom"===r.type){if(o.precision=e,!r.serialize)throw new TypeError(`format ${c} can only be used to parse colors, not for serialization`);i=r.serialize(l,t.alpha,o)}else{let a=r.name||"color";r.serializeCoords?l=r.serializeCoords(l,e):null!==e&&(l=l.map(t=>n(t,{precision:e})));let o=[...l];if("color"===a){let e=r.id||(null==(s=r.ids)?void 0:s[0])||t.space.id;o.unshift(e)}let c=t.alpha;null!==e&&(c=n(c,{precision:e}));let h=t.alpha>=1||r.noAlpha?"":`${r.commas?",":" /"} ${c}`;i=`${a}(${o.join(r.commas?", ":" ")}${h})`}return i}de.returns="color";var ge=new B({id:"rec2020-linear",cssId:"--rec2020-linear",name:"Linear REC.2020",white:"D65",toXYZ_M:[[.6369580483012914,.14461690358620832,.1688809751641721],[.2627002120112671,.6779980715188708,.05930171646986196],[0,.028072693049087428,1.060985057710791]],fromXYZ_M:[[1.716651187971268,-.355670783776392,-.25336628137366],[-.666684351832489,1.616481236634939,.0157685458139111],[.017639857445311,-.042770613257809,.942103121235474]]});const be=1.09929682680944,ye=.018053968510807;var Me=new B({id:"rec2020",name:"REC.2020",base:ge,toBase:t=>t.map(function(t){return t<4.5*ye?t/4.5:Math.pow((t+be-1)/be,1/.45)}),fromBase:t=>t.map(function(t){return t>=ye?be*Math.pow(t,.45)-(be-1):4.5*t})});var we=new B({id:"p3-linear",cssId:"--display-p3-linear",name:"Linear P3",white:"D65",toXYZ_M:[[.4865709486482162,.26566769316909306,.1982172852343625],[.2289745640697488,.6917385218365064,.079286914093745],[0,.04511338185890264,1.043944368900976]],fromXYZ_M:[[2.493496911941425,-.9313836179191239,-.40271078445071684],[-.8294889695615747,1.7626640603183463,.023624685841943577],[.03584583024378447,-.07617238926804182,.9568845240076872]]});const _e=[[3.2409699419045226,-1.537383177570094,-.4986107602930034],[-.9692436362808796,1.8759675015077202,.04155505740717559],[.05563007969699366,-.20397695888897652,1.0569715142428786]];var ve=new B({id:"srgb-linear",name:"Linear sRGB",white:"D65",toXYZ_M:[[.41239079926595934,.357584339383878,.1804807884018343],[.21263900587151027,.715168678767756,.07219231536073371],[.01933081871559182,.11919477979462598,.9505321522496607]],fromXYZ_M:_e}),Ie={aliceblue:[240/255,248/255,1],antiquewhite:[250/255,235/255,215/255],aqua:[0,1,1],aquamarine:[127/255,1,212/255],azure:[240/255,1,1],beige:[245/255,245/255,220/255],bisque:[1,228/255,196/255],black:[0,0,0],blanchedalmond:[1,235/255,205/255],blue:[0,0,1],blueviolet:[138/255,43/255,226/255],brown:[165/255,42/255,42/255],burlywood:[222/255,184/255,135/255],cadetblue:[95/255,158/255,160/255],chartreuse:[127/255,1,0],chocolate:[210/255,105/255,30/255],coral:[1,127/255,80/255],cornflowerblue:[100/255,149/255,237/255],cornsilk:[1,248/255,220/255],crimson:[220/255,20/255,60/255],cyan:[0,1,1],darkblue:[0,0,139/255],darkcyan:[0,139/255,139/255],darkgoldenrod:[184/255,134/255,11/255],darkgray:[169/255,169/255,169/255],darkgreen:[0,100/255,0],darkgrey:[169/255,169/255,169/255],darkkhaki:[189/255,183/255,107/255],darkmagenta:[139/255,0,139/255],darkolivegreen:[85/255,107/255,47/255],darkorange:[1,140/255,0],darkorchid:[.6,50/255,.8],darkred:[139/255,0,0],darksalmon:[233/255,150/255,122/255],darkseagreen:[143/255,188/255,143/255],darkslateblue:[72/255,61/255,139/255],darkslategray:[47/255,79/255,79/255],darkslategrey:[47/255,79/255,79/255],darkturquoise:[0,206/255,209/255],darkviolet:[148/255,0,211/255],deeppink:[1,20/255,147/255],deepskyblue:[0,191/255,1],dimgray:[105/255,105/255,105/255],dimgrey:[105/255,105/255,105/255],dodgerblue:[30/255,144/255,1],firebrick:[178/255,34/255,34/255],floralwhite:[1,250/255,240/255],forestgreen:[34/255,139/255,34/255],fuchsia:[1,0,1],gainsboro:[220/255,220/255,220/255],ghostwhite:[248/255,248/255,1],gold:[1,215/255,0],goldenrod:[218/255,165/255,32/255],gray:[128/255,128/255,128/255],green:[0,128/255,0],greenyellow:[173/255,1,47/255],grey:[128/255,128/255,128/255],honeydew:[240/255,1,240/255],hotpink:[1,105/255,180/255],indianred:[205/255,92/255,92/255],indigo:[75/255,0,130/255],ivory:[1,1,240/255],khaki:[240/255,230/255,140/255],lavender:[230/255,230/255,250/255],lavenderblush:[1,240/255,245/255],lawngreen:[124/255,252/255,0],lemonchiffon:[1,250/255,205/255],lightblue:[173/255,216/255,230/255],lightcoral:[240/255,128/255,128/255],lightcyan:[224/255,1,1],lightgoldenrodyellow:[250/255,250/255,210/255],lightgray:[211/255,211/255,211/255],lightgreen:[144/255,238/255,144/255],lightgrey:[211/255,211/255,211/255],lightpink:[1,182/255,193/255],lightsalmon:[1,160/255,122/255],lightseagreen:[32/255,178/255,170/255],lightskyblue:[135/255,206/255,250/255],lightslategray:[119/255,136/255,.6],lightslategrey:[119/255,136/255,.6],lightsteelblue:[176/255,196/255,222/255],lightyellow:[1,1,224/255],lime:[0,1,0],limegreen:[50/255,205/255,50/255],linen:[250/255,240/255,230/255],magenta:[1,0,1],maroon:[128/255,0,0],mediumaquamarine:[.4,205/255,170/255],mediumblue:[0,0,205/255],mediumorchid:[186/255,85/255,211/255],mediumpurple:[147/255,112/255,219/255],mediumseagreen:[60/255,179/255,113/255],mediumslateblue:[123/255,104/255,238/255],mediumspringgreen:[0,250/255,154/255],mediumturquoise:[72/255,209/255,.8],mediumvioletred:[199/255,21/255,133/255],midnightblue:[25/255,25/255,112/255],mintcream:[245/255,1,250/255],mistyrose:[1,228/255,225/255],moccasin:[1,228/255,181/255],navajowhite:[1,222/255,173/255],navy:[0,0,128/255],oldlace:[253/255,245/255,230/255],olive:[128/255,128/255,0],olivedrab:[107/255,142/255,35/255],orange:[1,165/255,0],orangered:[1,69/255,0],orchid:[218/255,112/255,214/255],palegoldenrod:[238/255,232/255,170/255],palegreen:[152/255,251/255,152/255],paleturquoise:[175/255,238/255,238/255],palevioletred:[219/255,112/255,147/255],papayawhip:[1,239/255,213/255],peachpuff:[1,218/255,185/255],peru:[205/255,133/255,63/255],pink:[1,192/255,203/255],plum:[221/255,160/255,221/255],powderblue:[176/255,224/255,230/255],purple:[128/255,0,128/255],rebeccapurple:[.4,.2,.6],red:[1,0,0],rosybrown:[188/255,143/255,143/255],royalblue:[65/255,105/255,225/255],saddlebrown:[139/255,69/255,19/255],salmon:[250/255,128/255,114/255],sandybrown:[244/255,164/255,96/255],seagreen:[46/255,139/255,87/255],seashell:[1,245/255,238/255],sienna:[160/255,82/255,45/255],silver:[192/255,192/255,192/255],skyblue:[135/255,206/255,235/255],slateblue:[106/255,90/255,205/255],slategray:[112/255,128/255,144/255],slategrey:[112/255,128/255,144/255],snow:[1,250/255,250/255],springgreen:[0,1,127/255],steelblue:[70/255,130/255,180/255],tan:[210/255,180/255,140/255],teal:[0,128/255,128/255],thistle:[216/255,191/255,216/255],tomato:[1,99/255,71/255],turquoise:[64/255,224/255,208/255],violet:[238/255,130/255,238/255],wheat:[245/255,222/255,179/255],white:[1,1,1],whitesmoke:[245/255,245/255,245/255],yellow:[1,1,0],yellowgreen:[154/255,205/255,50/255]};let xe=Array(3).fill("<percentage> | <number>[0, 255]"),Ce=Array(3).fill("<number>[0, 255]");var ke=new B({id:"srgb",name:"sRGB",base:ve,fromBase:t=>t.map(t=>{let e=t<0?-1:1,r=t*e;return r>.0031308?e*(1.055*r**(1/2.4)-.055):12.92*t}),toBase:t=>t.map(t=>{let e=t<0?-1:1,r=t*e;return r<=.04045?t/12.92:e*((r+.055)/1.055)**2.4}),formats:{rgb:{coords:xe},rgb_number:{name:"rgb",commas:!0,coords:Ce,noAlpha:!0},color:{},rgba:{coords:xe,commas:!0,lastAlpha:!0},rgba_number:{name:"rgba",commas:!0,coords:Ce},hex:{type:"custom",toGamut:!0,test:t=>/^#([a-f0-9]{3,4}){1,2}$/i.test(t),parse(t){t.length<=5&&(t=t.replace(/[a-f0-9]/gi,"$&$&"));let e=[];return t.replace(/[a-f0-9]{2}/gi,t=>{e.push(parseInt(t,16)/255)}),{spaceId:"srgb",coords:e.slice(0,3),alpha:e.slice(3)[0]}},serialize:(t,e,{collapse:r=!0}={})=>{e<1&&t.push(e),t=t.map(t=>Math.round(255*t));let n=r&&t.every(t=>t%17==0);return"#"+t.map(t=>n?(t/17).toString(16):t.toString(16).padStart(2,"0")).join("")}},keyword:{type:"custom",test:t=>/^[a-z]+$/i.test(t),parse(t){let e={spaceId:"srgb",coords:null,alpha:1};if("transparent"===(t=t.toLowerCase())?(e.coords=Ie.black,e.alpha=0):e.coords=Ie[t],e.coords)return e}}}}),Ne=new B({id:"p3",cssId:"display-p3",name:"P3",base:we,fromBase:ke.fromBase,toBase:ke.toBase});let $e;if(_.display_space=ke,typeof CSS<"u"&&CSS.supports)for(let On of[G,Me,Ne]){let t=On.getMinCoords(),e=pe({space:On,coords:t,alpha:1});if(CSS.supports("color",e)){_.display_space=On;break}}function Ee(t){return j(t,[S,"y"])}function Ae(t,e){q(t,[S,"y"],e)}var Re=Object.freeze({__proto__:null,getLuminance:Ee,register:function(t){Object.defineProperty(t.prototype,"luminance",{get(){return Ee(this)},set(t){Ae(this,t)}})},setLuminance:Ae});function Se(t){return t>=.022?t:t+(.022-t)**1.414}function Be(t){let e=t<0?-1:1,r=Math.abs(t);return e*Math.pow(r,2.4)}const Pe=216/24389,je=24/116,Fe=24389/27;let qe=v.D65;var Le=new E({id:"lab-d65",name:"Lab D65",coords:{l:{refRange:[0,100],name:"Lightness"},a:{refRange:[-125,125]},b:{refRange:[-125,125]}},white:qe,base:S,fromBase(t){let e=t.map((t,e)=>t/qe[e]).map(t=>t>Pe?Math.cbrt(t):(Fe*t+16)/116);return[116*e[1]-16,500*(e[0]-e[1]),200*(e[1]-e[2])]},toBase(t){let e=[];return e[1]=(t[0]+16)/116,e[0]=t[1]/500+e[1],e[2]=e[1]-t[2]/200,[e[0]>je?Math.pow(e[0],3):(116*e[0]-16)/Fe,t[0]>8?Math.pow((t[0]+16)/116,3):t[0]/Fe,e[2]>je?Math.pow(e[2],3):(116*e[2]-16)/Fe].map((t,e)=>t*qe[e])},formats:{"lab-d65":{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});const De=.5*Math.pow(5,.5)+.5;var Oe=Object.freeze({__proto__:null,contrastAPCA:function(t,e){let r,n,a,o,s,i;e=$(e),t=$(t),e=de(e,"srgb"),[o,s,i]=e.coords;let c=.2126729*Be(o)+.7151522*Be(s)+.072175*Be(i);t=de(t,"srgb"),[o,s,i]=t.coords;let l=.2126729*Be(o)+.7151522*Be(s)+.072175*Be(i),h=Se(c),u=Se(l),f=u>h;return Math.abs(u-h)<5e-4?n=0:f?(r=u**.56-h**.57,n=1.14*r):(r=u**.65-h**.62,n=1.14*r),a=Math.abs(n)<.1?0:n>0?n-.027:n+.027,100*a},contrastDeltaPhi:function(t,e){t=$(t),e=$(e);let r=j(t,[Le,"l"]),n=j(e,[Le,"l"]),a=Math.abs(Math.pow(r,De)-Math.pow(n,De)),o=Math.pow(a,1/De)*Math.SQRT2-40;return o<7.5?0:o},contrastLstar:function(t,e){t=$(t),e=$(e);let r=j(t,[G,"l"]),n=j(e,[G,"l"]);return Math.abs(r-n)},contrastMichelson:function(t,e){t=$(t),e=$(e);let r=Math.max(Ee(t),0),n=Math.max(Ee(e),0);n>r&&([r,n]=[n,r]);let a=r+n;return 0===a?0:(r-n)/a},contrastWCAG21:function(t,e){t=$(t),e=$(e);let r=Math.max(Ee(t),0),n=Math.max(Ee(e),0);return n>r&&([r,n]=[n,r]),(r+.05)/(n+.05)},contrastWeber:function(t,e){t=$(t),e=$(e);let r=Math.max(Ee(t),0),n=Math.max(Ee(e),0);return n>r&&([r,n]=[n,r]),0===n?5e4:(r-n)/n}});function ze(t){let[e,r,n]=P(t,S),a=e+15*r+3*n;return[4*e/a,9*r/a]}function Te(t){let[e,r,n]=P(t,S),a=e+r+n;return[e/a,r/a]}var Ge=Object.freeze({__proto__:null,register:function(t){Object.defineProperty(t.prototype,"uv",{get(){return ze(this)}}),Object.defineProperty(t.prototype,"xy",{get(){return Te(this)}})},uv:ze,xy:Te});function He(t,r,n={}){e(n)&&(n={method:n});let{method:a=_.deltaE,...o}=n;for(let e in he)if("deltae"+a.toLowerCase()===e.toLowerCase())return he[e](t,r,o);throw new TypeError(`Unknown deltaE method: ${a}`)}var We=Object.freeze({__proto__:null,darken:function(t,e=.25){return q(t,[E.get("oklch","lch"),"l"],t=>t*(1-e))},lighten:function(t,e=.25){return q(t,[E.get("oklch","lch"),"l"],t=>t*(1+e))}});function Ye(t,e,n=.5,a={}){return[t,e]=[$(t),$(e)],"object"===r(n)&&([n,a]=[.5,n]),Ze(t,e,a)(n)}function Xe(t,e,r={}){let n;Ve(t)&&([n,r]=[t,e],[t,e]=n.rangeArgs.colors);let{maxDeltaE:a,deltaEMethod:o,steps:s=2,maxSteps:i=1e3,...c}=r;n||([t,e]=[$(t),$(e)],n=Ze(t,e,c));let l=He(t,e),h=a>0?Math.max(s,Math.ceil(l/a)+1):s,u=[];if(void 0!==i&&(h=Math.min(h,i)),1===h)u=[{p:.5,color:n(.5)}];else{let t=1/(h-1);u=Array.from({length:h},(e,r)=>{let a=r*t;return{p:a,color:n(a)}})}if(a>0){let t=u.reduce((t,e,r)=>{if(0===r)return 0;let n=He(e.color,u[r-1].color,o);return Math.max(t,n)},0);for(;t>a;){t=0;for(let e=1;e<u.length&&u.length<i;e++){let r=u[e-1],a=u[e],o=(a.p+r.p)/2,s=n(o);t=Math.max(t,He(s,r.color),He(s,a.color)),u.splice(e,0,{p:o,color:n(o)}),e++}}}return u=u.map(t=>t.color),u}function Ze(t,e,r={}){if(Ve(t)){let[r,n]=[t,e];return Ze(...r.rangeArgs.colors,{...r.rangeArgs.options,...n})}let{space:n,outputSpace:a,progression:o,premultiplied:s}=r;t=$(t),e=$(e),t=ot(t),e=ot(e);let i={colors:[t,e],options:r};if(n=n?E.get(n):E.registry[_.interpolationSpace]||t.space,a=a?E.get(a):n,t=de(t,n),e=de(e,n),t=fe(t),e=fe(e),n.coords.h&&"angle"===n.coords.h.type){let a=r.hue=r.hue||"shorter",o=[n,"h"],[s,i]=[j(t,o),j(e,o)];isNaN(s)&&!isNaN(i)?s=i:isNaN(i)&&!isNaN(s)&&(i=s),[s,i]=function(t,e){if("raw"===t)return e;let[r,n]=e.map(H),a=n-r;return"increasing"===t?a<0&&(n+=360):"decreasing"===t?a>0&&(r+=360):"longer"===t?-180<a&&a<180&&(a>0?r+=360:n+=360):"shorter"===t&&(a>180?r+=360:a<-180&&(n+=360)),[r,n]}(a,[s,i]),q(t,o,s),q(e,o,i)}return s&&(t.coords=t.coords.map(e=>e*t.alpha),e.coords=e.coords.map(t=>t*e.alpha)),Object.assign(r=>{r=o?o(r):r;let i=t.coords.map((t,n)=>h(t,e.coords[n],r)),c=h(t.alpha,e.alpha,r),l={space:n,coords:i,alpha:c};return s&&(l.coords=l.coords.map(t=>t/c)),a!==n&&(l=de(l,a)),l},{rangeArgs:i})}function Ve(t){return"function"===r(t)&&!!t.rangeArgs}_.interpolationSpace="lab";var Je=Object.freeze({__proto__:null,isRange:Ve,mix:Ye,range:Ze,register:function(t){t.defineFunction("mix",Ye,{returns:"color"}),t.defineFunction("range",Ze,{returns:"function<color>"}),t.defineFunction("steps",Xe,{returns:"array<color>"})},steps:Xe}),Ue=new E({id:"hsl",name:"HSL",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:ke,fromBase:t=>{let e=Math.max(...t),r=Math.min(...t),[n,a,o]=t,[s,i,c]=[NaN,0,(r+e)/2],l=e-r;if(0!==l){switch(i=0===c||1===c?0:(e-c)/Math.min(c,1-c),e){case n:s=(a-o)/l+(a<o?6:0);break;case a:s=(o-n)/l+2;break;case o:s=(n-a)/l+4}s*=60}return i<0&&(s+=180,i=Math.abs(i)),s>=360&&(s-=360),[s,100*i,100*c]},toBase:t=>{let[e,r,n]=t;function a(t){let a=(t+e/30)%12,o=r*Math.min(n,1-n);return n-o*Math.max(-1,Math.min(a-3,9-a,1))}return e%=360,e<0&&(e+=360),r/=100,n/=100,[a(0),a(8),a(4)]},formats:{hsl:{coords:["<number> | <angle>","<percentage>","<percentage>"]},hsla:{coords:["<number> | <angle>","<percentage>","<percentage>"],commas:!0,lastAlpha:!0}}}),Qe=new E({id:"hsv",name:"HSV",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},v:{range:[0,100],name:"Value"}},base:Ue,fromBase(t){let[e,r,n]=t;r/=100,n/=100;let a=n+r*Math.min(n,1-n);return[e,0===a?0:200*(1-n/a),100*a]},toBase(t){let[e,r,n]=t;r/=100,n/=100;let a=n*(1-r/2);return[e,0===a||1===a?0:(n-a)/Math.min(a,1-a)*100,100*a]},formats:{color:{id:"--hsv",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}}),Ke=new E({id:"hwb",name:"HWB",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},w:{range:[0,100],name:"Whiteness"},b:{range:[0,100],name:"Blackness"}},base:Qe,fromBase(t){let[e,r,n]=t;return[e,n*(100-r)/100,100-n]},toBase(t){let[e,r,n]=t;r/=100,n/=100;let a=r+n;if(a>=1){return[e,0,100*(r/a)]}let o=1-n;return[e,100*(0===o?0:1-r/o),100*o]},formats:{hwb:{coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}});var tr=new B({id:"a98rgb-linear",cssId:"--a98-rgb-linear",name:"Linear Adobe® 98 RGB compatible",white:"D65",toXYZ_M:[[.5766690429101305,.1855582379065463,.1882286462349947],[.29734497525053605,.6273635662554661,.07529145849399788],[.02703136138641234,.07068885253582723,.9913375368376388]],fromXYZ_M:[[2.0415879038107465,-.5650069742788596,-.34473135077832956],[-.9692436362808795,1.8759675015077202,.04155505740717557],[.013444280632031142,-.11836239223101838,1.0151749943912054]]}),er=new B({id:"a98rgb",cssId:"a98-rgb",name:"Adobe® 98 RGB compatible",base:tr,toBase:t=>t.map(t=>Math.pow(Math.abs(t),563/256)*Math.sign(t)),fromBase:t=>t.map(t=>Math.pow(Math.abs(t),256/563)*Math.sign(t))});var rr=new B({id:"prophoto-linear",cssId:"--prophoto-rgb-linear",name:"Linear ProPhoto",white:"D50",base:L,toXYZ_M:[[.7977666449006423,.13518129740053308,.0313477341283922],[.2880748288194013,.711835234241873,8993693872564e-17],[0,0,.8251046025104602]],fromXYZ_M:[[1.3457868816471583,-.25557208737979464,-.05110186497554526],[-.5446307051249019,1.5082477428451468,.02052744743642139],[0,0,1.2119675456389452]]});const nr=1/512;var ar=new B({id:"prophoto",cssId:"prophoto-rgb",name:"ProPhoto",base:rr,toBase:t=>t.map(t=>t<.03125?t/16:t**1.8),fromBase:t=>t.map(t=>t>=nr?t**(1/1.8):16*t)}),or=new E({id:"oklch",name:"Oklch",coords:{l:{refRange:[0,1],name:"Lightness"},c:{refRange:[0,.4],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},white:"D65",base:rt,fromBase(t){let e,[r,n,a]=t;const o=2e-4;return e=Math.abs(n)<o&&Math.abs(a)<o?NaN:180*Math.atan2(a,n)/Math.PI,[r,Math.sqrt(n**2+a**2),H(e)]},toBase(t){let e,r,[n,a,o]=t;return isNaN(o)?(e=0,r=0):(e=a*Math.cos(o*Math.PI/180),r=a*Math.sin(o*Math.PI/180)),[n,e,r]},formats:{oklch:{coords:["<percentage> | <number>","<number> | <percentage>[0,1]","<number> | <angle>"]}}});let sr=v.D65;const ir=216/24389,cr=24389/27,[lr,hr]=ze({space:S,coords:sr});var ur=new E({id:"luv",name:"Luv",coords:{l:{refRange:[0,100],name:"Lightness"},u:{refRange:[-215,215]},v:{refRange:[-215,215]}},white:sr,base:S,fromBase(t){let e=[o(t[0]),o(t[1]),o(t[2])],r=e[1],[n,a]=ze({space:S,coords:e});if(!Number.isFinite(n)||!Number.isFinite(a))return[0,0,0];let s=r<=ir?cr*r:116*Math.cbrt(r)-16;return[s,13*s*(n-lr),13*s*(a-hr)]},toBase(t){let[e,r,n]=t;if(0===e||a(e))return[0,0,0];r=o(r),n=o(n);let s=r/(13*e)+lr,i=n/(13*e)+hr,c=e<=8?e/cr:Math.pow((e+16)/116,3);return[c*(9*s/(4*i)),c,c*((12-3*s-20*i)/(4*i))]},formats:{color:{id:"--luv",coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}}),fr=new E({id:"lchuv",name:"LChuv",coords:{l:{refRange:[0,100],name:"Lightness"},c:{refRange:[0,220],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:ur,fromBase(t){let e,[r,n,a]=t;return e=Math.abs(n)<.02&&Math.abs(a)<.02?NaN:180*Math.atan2(a,n)/Math.PI,[r,Math.sqrt(n**2+a**2),H(e)]},toBase(t){let[e,r,n]=t;return r<0&&(r=0),isNaN(n)&&(n=0),[e,r*Math.cos(n*Math.PI/180),r*Math.sin(n*Math.PI/180)]},formats:{color:{id:"--lchuv",coords:["<number> | <percentage>","<number> | <percentage>","<number> | <angle>"]}}});const mr=216/24389,dr=24389/27,pr=_e[0][0],gr=_e[0][1],br=_e[0][2],yr=_e[1][0],Mr=_e[1][1],wr=_e[1][2],_r=_e[2][0],vr=_e[2][1],Ir=_e[2][2];function xr(t,e,r){const n=e/(Math.sin(r)-t*Math.cos(r));return n<0?1/0:n}function Cr(t){const e=Math.pow(t+16,3)/1560896,r=e>mr?e:t/dr,n=r*(284517*pr-94839*br),a=r*(838422*br+769860*gr+731718*pr),o=r*(632260*br-126452*gr),s=r*(284517*yr-94839*wr),i=r*(838422*wr+769860*Mr+731718*yr),c=r*(632260*wr-126452*Mr),l=r*(284517*_r-94839*Ir),h=r*(838422*Ir+769860*vr+731718*_r),u=r*(632260*Ir-126452*vr);return{r0s:n/o,r0i:a*t/o,r1s:n/(o+126452),r1i:(a-769860)*t/(o+126452),g0s:s/c,g0i:i*t/c,g1s:s/(c+126452),g1i:(i-769860)*t/(c+126452),b0s:l/u,b0i:h*t/u,b1s:l/(u+126452),b1i:(h-769860)*t/(u+126452)}}function kr(t,e){const r=e/360*Math.PI*2,n=xr(t.r0s,t.r0i,r),a=xr(t.r1s,t.r1i,r),o=xr(t.g0s,t.g0i,r),s=xr(t.g1s,t.g1i,r),i=xr(t.b0s,t.b0i,r),c=xr(t.b1s,t.b1i,r);return Math.min(n,a,o,s,i,c)}var Nr=new E({id:"hsluv",name:"HSLuv",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:fr,gamutSpace:ke,fromBase(t){let e,[r,n,a]=[o(t[0]),o(t[1]),o(t[2])];if(r>99.9999999)e=0,r=100;else if(r<1e-8)e=0,r=0;else{e=n/kr(Cr(r),a)*100}return[a,e,r]},toBase(t){let e,[r,n,a]=[o(t[0]),o(t[1]),o(t[2])];if(a>99.9999999)a=100,e=0;else if(a<1e-8)a=0,e=0;else{e=kr(Cr(a),r)/100*n}return[a,e,r]},formats:{color:{id:"--hsluv",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}});function $r(t,e){return Math.abs(e)/Math.sqrt(Math.pow(t,2)+1)}function Er(t){let e=$r(t.r0s,t.r0i),r=$r(t.r1s,t.r1i),n=$r(t.g0s,t.g0i),a=$r(t.g1s,t.g1i),o=$r(t.b0s,t.b0i),s=$r(t.b1s,t.b1i);return Math.min(e,r,n,a,o,s)}_e[0][0],_e[0][1],_e[0][2],_e[1][0],_e[1][1],_e[1][2],_e[2][0],_e[2][1],_e[2][2];var Ar=new E({id:"hpluv",name:"HPLuv",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:fr,gamutSpace:"self",fromBase(t){let e,[r,n,a]=[o(t[0]),o(t[1]),o(t[2])];if(r>99.9999999)e=0,r=100;else if(r<1e-8)e=0,r=0;else{e=n/Er(Cr(r))*100}return[a,e,r]},toBase(t){let e,[r,n,a]=[o(t[0]),o(t[1]),o(t[2])];if(a>99.9999999)a=100,e=0;else if(a<1e-8)a=0,e=0;else{e=Er(Cr(a))/100*n}return[a,e,r]},formats:{color:{id:"--hpluv",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}});const Rr=2610/16384,Sr=16384/2610,Br=32/2523,Pr=.8359375,jr=2413/128,Fr=18.6875;var qr=new B({id:"rec2100pq",cssId:"rec2100-pq",name:"REC.2100-PQ",base:ge,toBase:t=>t.map(function(t){return(Math.max(t**Br-Pr,0)/(jr-Fr*t**Br))**Sr*1e4/203}),fromBase:t=>t.map(function(t){let e=Math.max(203*t/1e4,0);return((Pr+jr*e**Rr)/(1+Fr*e**Rr))**78.84375})});const Lr=.17883277,Dr=.28466892,Or=.55991073,zr=3.7743;var Tr=new B({id:"rec2100hlg",cssId:"rec2100-hlg",name:"REC.2100-HLG",referred:"scene",base:ge,toBase:t=>t.map(function(t){return t<=.5?t**2/3*zr:(Math.exp((t-Or)/Lr)+Dr)/12*zr}),fromBase:t=>t.map(function(t){return(t/=zr)<=1/12?Math.sqrt(3*t):Lr*Math.log(12*t-Dr)+Or})});const Gr={};function Hr({id:t,toCone_M:e,fromCone_M:r}){Gr[t]=arguments[0]}function Wr(e,r,n="Bradford"){let a=Gr[n],[o,s,i]=t(a.toCone_M,e),[c,l,h]=t(a.toCone_M,r),u=t([[c/o,0,0],[0,l/s,0],[0,0,h/i]],a.toCone_M);return t(a.fromCone_M,u)}w.add("chromatic-adaptation-start",t=>{t.options.method&&(t.M=Wr(t.W1,t.W2,t.options.method))}),w.add("chromatic-adaptation-end",t=>{t.M||(t.M=Wr(t.W1,t.W2,t.options.method))}),Hr({id:"von Kries",toCone_M:[[.40024,.7076,-.08081],[-.2263,1.16532,.0457],[0,0,.91822]],fromCone_M:[[1.8599363874558397,-1.1293816185800916,.21989740959619328],[.3611914362417676,.6388124632850422,-6370596838649899e-21],[0,0,1.0890636230968613]]}),Hr({id:"Bradford",toCone_M:[[.8951,.2664,-.1614],[-.7502,1.7135,.0367],[.0389,-.0685,1.0296]],fromCone_M:[[.9869929054667121,-.14705425642099013,.15996265166373122],[.4323052697233945,.5183602715367774,.049291228212855594],[-.00852866457517732,.04004282165408486,.96848669578755]]}),Hr({id:"CAT02",toCone_M:[[.7328,.4296,-.1624],[-.7036,1.6975,.0061],[.003,.0136,.9834]],fromCone_M:[[1.0961238208355142,-.27886900021828726,.18274517938277307],[.4543690419753592,.4735331543074117,.07209780371722911],[-.009627608738429355,-.00569803121611342,1.0153256399545427]]}),Hr({id:"CAT16",toCone_M:[[.401288,.650173,-.051461],[-.250268,1.204414,.045854],[-.002079,.048952,.953127]],fromCone_M:[[1.862067855087233,-1.0112546305316845,.14918677544445172],[.3875265432361372,.6214474419314753,-.008973985167612521],[-.01584149884933386,-.03412293802851557,1.0499644368778496]]}),Object.assign(v,{A:[1.0985,1,.35585],C:[.98074,1,1.18232],D55:[.95682,1,.92149],D75:[.94972,1,1.22638],E:[1,1,1],F2:[.99186,1,.67393],F7:[.95041,1,1.08747],F11:[1.00962,1,.6435]}),v.ACES=[.32168/.33767,1,.34065/.33767];var Yr=new B({id:"acescg",cssId:"--acescg",name:"ACEScg",coords:{r:{range:[0,65504],name:"Red"},g:{range:[0,65504],name:"Green"},b:{range:[0,65504],name:"Blue"}},referred:"scene",white:v.ACES,toXYZ_M:[[.6624541811085053,.13400420645643313,.1561876870049078],[.27222871678091454,.6740817658111484,.05368951740793705],[-.005574649490394108,.004060733528982826,1.0103391003129971]],fromXYZ_M:[[1.6410233796943257,-.32480329418479,-.23642469523761225],[-.6636628587229829,1.6153315916573379,.016756347685530137],[.011721894328375376,-.008284441996237409,.9883948585390215]]});const Xr=2**-16,Zr=-.35828683,Vr=(Math.log2(65504)+9.72)/17.52;var Jr=new B({id:"acescc",cssId:"--acescc",name:"ACEScc",coords:{r:{range:[Zr,Vr],name:"Red"},g:{range:[Zr,Vr],name:"Green"},b:{range:[Zr,Vr],name:"Blue"}},referred:"scene",base:Yr,toBase:t=>t.map(function(t){return t<=-.3013698630136986?2*(2**(17.52*t-9.72)-Xr):t<Vr?2**(17.52*t-9.72):65504}),fromBase:t=>t.map(function(t){return t<=0?(Math.log2(Xr)+9.72)/17.52:t<Xr?(Math.log2(Xr+.5*t)+9.72)/17.52:(Math.log2(t)+9.72)/17.52})}),Ur=Object.freeze({__proto__:null,A98RGB:er,A98RGB_Linear:tr,ACEScc:Jr,ACEScg:Yr,CAM16_JMh:Kt,HCT:se,HPLuv:Ar,HSL:Ue,HSLuv:Nr,HSV:Qe,HWB:Ke,ICTCP:qt,JzCzHz:Ct,Jzazbz:xt,LCH:W,LCHuv:fr,Lab:G,Lab_D65:Le,Luv:ur,OKLCH:or,OKLab:rt,P3:Ne,P3_Linear:we,ProPhoto:ar,ProPhoto_Linear:rr,REC_2020:Me,REC_2020_Linear:ge,REC_2100_HLG:Tr,REC_2100_PQ:qr,XYZ_ABS_D65:ct,XYZ_D50:L,XYZ_D65:S,sRGB:ke,sRGB_Linear:ve});class Qr{constructor(...t){let e,r,n,a;1===t.length&&(e=$(t[0])),e?(r=e.space||e.spaceId,n=e.coords,a=e.alpha):[r,n,a]=t,Object.defineProperty(this,"space",{value:E.get(r),writable:!1,enumerable:!0,configurable:!0}),this.coords=n?n.slice():[0,0,0],this.alpha=a>1||void 0===a?1:a<0?0:a;for(let o=0;o<this.coords.length;o++)"NaN"===this.coords[o]&&(this.coords[o]=NaN);for(let o in this.space.coords)Object.defineProperty(this,o,{get:()=>this.get(o),set:t=>this.set(o,t)})}get spaceId(){return this.space.id}clone(){return new Qr(this.space,this.coords,this.alpha)}toJSON(){return{spaceId:this.spaceId,coords:this.coords,alpha:this.alpha}}display(...t){let e=function(t,{space:e=_.display_space,...r}={}){let n=pe(t,r);if(typeof CSS>"u"||CSS.supports("color",n)||!_.display_space)n=new String(n),n.color=t;else{let s=t;if((t.coords.some(a)||a(t.alpha))&&!($e??=CSS.supports("color","hsl(none 50% 50%)"))&&(s=ot(t),s.coords=s.coords.map(o),s.alpha=o(s.alpha),n=pe(s,r),CSS.supports("color",n)))return n=new String(n),n.color=s,n;s=de(s,e),n=new String(pe(s,r)),n.color=s}return n}(this,...t);return e.color=new Qr(e.color),e}static get(t,...e){return t instanceof Qr?t:new Qr(t,...e)}static defineFunction(t,e,r=e){let{instance:n=!0,returns:a}=r,o=function(...t){let r=e(...t);if("color"===a)r=Qr.get(r);else if("function<color>"===a){let t=r;r=function(...e){let r=t(...e);return Qr.get(r)},Object.assign(r,t)}else"array<color>"===a&&(r=r.map(t=>Qr.get(t)));return r};t in Qr||(Qr[t]=o),n&&(Qr.prototype[t]=function(...t){return o(this,...t)})}static defineFunctions(t){for(let e in t)Qr.defineFunction(e,t[e],t[e])}static extend(t){if(t.register)t.register(Qr);else for(let e in t)Qr.defineFunction(e,t[e])}}Qr.defineFunctions({get:j,getAll:P,set:q,setAll:F,to:de,equals:function(t,e){return t=$(t),e=$(e),t.space===e.space&&t.alpha===e.alpha&&t.coords.every((t,r)=>t===e.coords[r])},inGamut:at,toGamut:fe,distance:st,toString:pe}),Object.assign(Qr,{util:M,hooks:w,WHITES:v,Space:E,spaces:E.registry,parse:N,defaults:_});for(let On of Object.keys(Ur))E.register(Ur[On]);for(let On in E.registry)Kr(On,E.registry[On]);function Kr(t,e){let r=t.replace(/-/g,"_");Object.defineProperty(Qr.prototype,r,{get(){let r=this.getAll(t);return typeof Proxy>"u"?r:new Proxy(r,{has:(t,r)=>{try{return E.resolveCoord([e,r]),!0}catch{}return Reflect.has(t,r)},get:(t,r,n)=>{if(r&&"symbol"!=typeof r&&!(r in t)){let{index:n}=E.resolveCoord([e,r]);if(n>=0)return t[n]}return Reflect.get(t,r,n)},set:(r,n,a,o)=>{if(n&&"symbol"!=typeof n&&!(n in r)||n>=0){let{index:o}=E.resolveCoord([e,n]);if(o>=0)return r[o]=a,this.setAll(t,r),!0}return Reflect.set(r,n,a,o)}})},set(e){this.setAll(t,e)},configurable:!0,enumerable:!0})}function tn(t,e,r){const n={};for(const a in t){const o=a;switch(o){case"fill":case"stroke":if(t[o]&&e[o]){const a=t[o],s=e[o];"string"==typeof a||"string"==typeof s?n[o]=r<.5?a:s:(n[o]=a.clone(),n[o].r=a.r+(s.r-a.r)*r,n[o].g=a.g+(s.g-a.g)*r,n[o].b=a.b+(s.b-a.b)*r,n[o].alpha=a.alpha+(s.alpha-a.alpha)*r)}break;case"opacity":case"fill-opacity":case"stroke-opacity":case"stroke-width":"number"==typeof t[o]&&"number"==typeof e[o]&&(n[o]=t[o]+(e[o]-t[o])*r)}}return n}function en(t){const e={};for(const r in t){const n=r;switch(n){case"fill":case"stroke":if(t[n]){const r=t[n];e[n]="string"==typeof r?r:r.toString()}break;case"opacity":case"fill-opacity":case"stroke-opacity":case"stroke-width":"number"==typeof t[n]&&(e[n]=t[n].toFixed())}}return e}function rn(t,e,r){const n=[{},{}],a=t=>"string"==typeof t&&t.trim().startsWith("url(#");for(const o in t){const s=o;switch(s){case"fill":case"stroke":t[s]&&(a(t[s])?(n[0][s]=t[s],void 0===e[s]&&(n[1][s]=t[s])):(n[0][s]=cn(r,t[s]),void 0===e[s]&&(n[1][s]=cn(r,t[s]),n[1][s].alpha=0)));break;case"opacity":case"fill-opacity":case"stroke-opacity":case"stroke-width":t[s]&&(n[0][s]=t[s],void 0===e[s]&&(n[1][s]=1))}}for(const o in e){const s=o;switch(s){case"fill":case"stroke":e[s]&&(a(e[s])?(n[1][s]=e[s],void 0===t[s]&&(n[0][s]=e[s])):(n[1][s]=cn(r,e[s]),void 0===t[s]&&(n[0][s]=cn(r,e[s]),n[0][s].alpha=0)));break;case"opacity":case"fill-opacity":case"stroke-opacity":case"stroke-width":e[s]&&(n[1][s]=e[s],void 0===t[s]&&(n[0][s]=1))}}return n}function nn(t,e,r){const n={};for(const a in t){const o=a;if("rotate"===o)if(t[o]&&e[o]){n[o]=[0,0,0];for(let a=0;a<3;a++){const s=t[o][a],i=e[o][a];isFinite(s)&&isFinite(i)&&isFinite(r)?n[o][a]=s+(i-s)*r:n[o][a]=isFinite(s)?s:0}}}return n}function an(t){let e="";if(t.rotate&&3===t.rotate.length){const[r,n,a]=t.rotate;isFinite(r)&&isFinite(n)&&isFinite(a)?e+="rotate("+t.rotate.join(" ")+")":e+="rotate(0 0 0)"}return e}function on(t,e,r){const n=[];for(let a=0,o=t.length;a<o;a++)if(n.push([t[a][0]]),e[a])for(let s=1,i=t[a].length;s<i;s++){const o=t[a][s],i=e[a]&&void 0!==e[a][s]?e[a][s]:o;n[a].push(o+(i-o)*r)}else for(let e=1,r=t[a].length;e<r;e++)n[a].push(t[a][e]);return n}function sn(t){if(t instanceof Array){const e=[];for(let r=0,n=t.length;r<n;r++)e[r]=sn(t[r]);return e}if(t instanceof Qr)return t.clone();if(t instanceof Object){const e={};for(const r in t)t.hasOwnProperty(r)&&(e[r]=sn(t[r]));return e}return t}w.add("colorspace-init-end",t=>{var e;Kr(t.id,t),null==(e=t.aliases)||e.forEach(e=>{Kr(e,t)})}),Qr.extend(he),Qr.extend({deltaE:He}),Object.assign(Qr,{deltaEMethods:he}),Qr.extend(We),Qr.extend({contrast:function(t,r,n={}){e(n)&&(n={algorithm:n});let{algorithm:a,...o}=n;if(!a){let t=Object.keys(Oe).map(t=>t.replace(/^contrast/,"")).join(", ");throw new TypeError(`contrast() function needs a contrast algorithm. Please specify one of: ${t}`)}t=$(t),r=$(r);for(let e in Oe)if("contrast"+a.toLowerCase()===e.toLowerCase())return Oe[e](t,r,o);throw new TypeError(`Unknown contrast algorithm: ${a}`)}}),Qr.extend(Ge),Qr.extend(Re),Qr.extend(Je),Qr.extend(Oe);const cn=function(t,e){if("CURRENTCOLOR"===e.toUpperCase()){const r=t||window.document.getElementsByTagName("head")[0]||window.document.getElementsByTagName("svg")[0];r.style.color?e="CURRENTCOLOR"===r.style.color.toUpperCase()?window.getComputedStyle(r).getPropertyValue("color"):r.style.color:(r.style.color=e,e=window.getComputedStyle(r).getPropertyValue("color"))}return new Qr(e).to("srgb")};async function ln(t,e){const r=[];for(const[o,s]of Object.entries(t)){let t;if(fn(s))t=s;else try{const e=await fetch(s);if(!e.ok){console.warn(`Failed to load SVG from ${s}`);continue}t=await e.text()}catch(a){console.warn(`Error loading SVG from ${s}:`,a);continue}const e=dn(t),n=pn(t),i=gn(t).fill;let c=mn(t);i&&["path","polygon","rect","circle","ellipse","line","polyline"].forEach(t=>{const e=new RegExp(`<${t}(\\s[^>]*)?>`,"gi");c=c.replace(e,e=>/fill\s*=\s*['"][^'"]*['"]/i.test(e)?e:(e.endsWith("/>"),e.replace(new RegExp(`<${t}(\\s*)`),`<${t}$1 fill="${i}" `)))});let l=`id="${o}"`;e&&(l+=` data-original-viewbox="${e.original}"`),(Object.keys(n.gradients).length>0||Object.keys(n.patterns).length>0)&&(l+=' data-has-defs="true"');const h=`<g ${l}>${c}</g>`;r.push(h)}const n={xmlns:"http://www.w3.org/2000/svg",style:"display:none;",...e};return`<svg ${Object.entries(n).map(([t,e])=>`${t}="${e}"`).join(" ")}>\n${r.join("\n")}\n</svg>`}async function hn(t,e){const r=await ln(t,e),n=new Blob([r],{type:"image/svg+xml"});return URL.createObjectURL(n)}async function un(t,e){return ln(t,e)}function fn(t){const e=t.trim();return e.startsWith("<?xml")?e.includes("<svg"):!(!e.startsWith("<svg")&&!e.startsWith("<!DOCTYPE svg"))}function mn(t){let e=t.trim();e=e.replace(/<\?xml[^?]*\?>\s*/gi,""),e=e.replace(/<!DOCTYPE[^>]*>\s*/gi,""),e=e.replace(/<\?[^?]*\?>\s*/gi,""),e=e.trim();const r=e.match(/<svg[^>]*>([\s\S]*?)<\/svg>/i);if(r&&r[1])return r[1].trim();if(e.startsWith("<svg")){const t=e.indexOf(">");if(-1!==t){const r=e.substring(t+1),n=r.lastIndexOf("</svg>");if(-1!==n)return r.substring(0,n).trim()}}return e}function dn(t){const e=t.match(/<svg[^>]*>/i);if(!e)return null;const r=e[0].match(/viewBox\s*=\s*["']([^"']+)["']/i);if(!r)return null;const n=r[1],a=n.trim().split(/\s+/).map(Number);return 4!==a.length?null:{values:[a[0],a[1],a[2],a[3]],original:n}}function pn(t){const e={gradients:{},patterns:{},others:{},raw:void 0},r=t.match(/<defs[^>]*>([\s\S]*?)<\/defs>/i);if(!r)return e;e.raw=r[0];const n=r[1],a=n.match(/<linearGradient[^>]*>[\s\S]*?<\/linearGradient>/gi);a&&a.forEach(t=>{const r=t.match(/id\s*=\s*["']([^"']+)["']/i);r&&(e.gradients[r[1]]=t)});const o=n.match(/<radialGradient[^>]*>[\s\S]*?<\/radialGradient>/gi);o&&o.forEach(t=>{const r=t.match(/id\s*=\s*["']([^"']+)["']/i);r&&(e.gradients[r[1]]=t)});const s=n.match(/<pattern[^>]*>[\s\S]*?<\/pattern>/gi);s&&s.forEach(t=>{const r=t.match(/id\s*=\s*["']([^"']+)["']/i);r&&(e.patterns[r[1]]=t)});const i=n.match(/<(?!linearGradient|radialGradient|pattern)[^>]+>[\s\S]*?<\/[^>]+>/gi);return i&&i.forEach(t=>{const r=t.match(/id\s*=\s*["']([^"']+)["']/i);r&&(e.others[r[1]]=t)}),e}function gn(t){const e=t.match(/<svg([^>]*)>/i);if(!e)return{};const r={},n=e[1].match(/(\w+)\s*=\s*["']([^"']*)["']/g);return n&&n.forEach(t=>{const[,e,n]=t.match(/(\w+)\s*=\s*["']([^"']*)["']/)||[];e&&n&&(r[e]=n)}),r}const bn={"circ-in":t=>-1*(Math.sqrt(1-t*t)-1),"circ-out":t=>Math.sqrt(1-(t-=1)*t),"circ-in-out":t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),"cubic-in":t=>t*t*t,"cubic-out":t=>--t*t*t+1,"cubic-in-out":t=>t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1,"elastic-in":t=>{var e=1.70158,r=0,n=1;if(0==t)return 0;if(1==t)return 1;if(r||(r=.3),n<Math.abs(1)){n=1;e=r/4}else e=r/(2*Math.PI)*Math.asin(1/n);return-n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r)},"elastic-out":t=>{var e=1.70158,r=0,n=1;if(0==t)return 0;if(1==t)return 1;if(r||(r=.3),n<Math.abs(1)){n=1;e=r/4}else e=r/(2*Math.PI)*Math.asin(1/n);return n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/r)+1},"elastic-in-out":t=>{var e=1.70158,r=0,n=1;if(0==t)return 0;if(2==(t/=.5))return 1;if(r||(r=.3*1.5*1),n<Math.abs(1)){n=1;e=r/4}else e=r/(2*Math.PI)*Math.asin(1/n);return t<1?n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r)*-.5:n*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r)*.5+1},"expo-in":t=>0==t?0:Math.pow(2,10*(t-1)),"expo-out":t=>1==t?1:1-Math.pow(2,-10*t),"expo-in-out":t=>0==t?0:1==t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t)),linear:t=>t,"quad-in":t=>t*t,"quad-out":t=>t*(2-t),"quad-in-out":t=>t<.5?2*t*t:(4-2*t)*t-1,"quart-in":t=>t*t*t*t,"quart-out":t=>1- --t*t*t*t,"quart-in-out":t=>t<.5?8*t*t*t*t:1-8*--t*t*t*t,"quint-in":t=>t*t*t*t*t,"quint-out":t=>1+--t*t*t*t*t,"quint-in-out":t=>t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t,"sine-in":t=>1-Math.cos(t*(Math.PI/2)),"sine-out":t=>Math.sin(t*(Math.PI/2)),"sine-in-out":t=>.5*(1-Math.cos(Math.PI*t))},yn="\t\n\v\f\r   ᠎             　\u2028\u2029",Mn=new RegExp("([a-z])["+yn+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+yn+"]*,?["+yn+"]*)+)","ig"),wn=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+yn+"]*,?["+yn+"]*","ig");function _n(t){if(!t)return null;if(Array.isArray(t))return t;{const e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},r=[];return String(t).replace(Mn,function(t,n,a){const o=[];let s=n.toLowerCase();if(a.replace(wn,function(t,e){return e&&o.push(+e),""}),"m"===s&&o.length>2&&(r.push([n.charCodeAt(0)].concat(o.splice(0,2))),s="l",n="m"===n?"l":"L"),"o"===s&&1===o.length&&r.push([n.charCodeAt(0),o[0]]),"r"===s)r.push([n.charCodeAt(0)].concat(o));else for(;o.length>=e[s]&&(r.push([n.charCodeAt(0)].concat(o.splice(0,e[s]))),e[s]););return""}),r}}function vn(t){const e=_n(t);if(!e||!e.length)return[["M",0,0]];const r=[];let n=0,a=0,o=0,s=0,i=0;77===e[0][0]&&(n=+e[0][1],a=+e[0][2],o=n,s=a,i++,r[0]=["M",n,a]);for(let c=i,l=e.length;c<l;c++){const t=[],i=e[c],l=i[0],h=String.fromCharCode(l);if(h!==h.toUpperCase())switch(t[0]=h.toUpperCase(),t[0]){case"A":t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=+i[6]+n,t[7]=+i[7]+a;break;case"V":t[1]=+i[1]+a;break;case"H":t[1]=+i[1]+n;break;case"M":o=+i[1]+n,s=+i[2]+a;default:for(let e=1,r=i.length;e<r;e++)t[e]=+i[e]+(e%2?n:a)}else{t[0]=h;for(let e=1,r=i.length;e<r;e++)t[e]=i[e]}switch(t[0]){case"Z":n=o,a=s;break;case"H":n=t[1];break;case"V":a=t[1];break;case"M":o=t[1],s=t[2],n=t[1],a=t[2];break;default:n=t[t.length-2],a=t[t.length-1]}r.push(t)}return r}function In(t,e){const r=vn(t),n=e&&vn(e),a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=function(t,e,r){let n,a;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(kn.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":"C"==r||"S"==r?(n=2*e.x-e.bx,a=2*e.y-e.by):(n=e.x,a=e.y),t=["C",n,a].concat(t.slice(1));break;case"T":"Q"==r||"T"==r?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(Cn(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(Cn(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(xn(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(xn(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(xn(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(xn(e.x,e.y,e.X,e.Y))}return t},i=function(t,e){if(t[e].length>7){t[e].shift();const r=t[e];for(;r.length;)l[e]="A",n&&(h[e]="A"),t.splice(e++,0,["C"].concat(r.splice(0,6)));t.splice(e,1)}},c=function(t,e,r,n,a){t&&e&&"M"==t[a][0]&&"M"!=e[a][0]&&(e.splice(a,0,["M",n.x,n.y]),r.bx=0,r.by=0,r.x=t[a][1],r.y=t[a][2])},l=[],h=[];let u="",f="";for(let m=0,d=Math.max(r.length,n&&n.length||0);m<d;m++){r[m]&&(u=r[m][0]),"C"!=u&&(l[m]=u,m&&(f=l[m-1])),r[m]=s(r[m],a,f),"A"!=l[m]&&"C"==u&&(l[m]="C"),i(r,m),n&&(n[m]&&(u=n[m][0]),"C"!=u&&(h[m]=u,m&&(f=h[m-1])),n[m]=s(n[m],o,f),"A"!=h[m]&&"C"==u&&(h[m]="C"),i(n,m)),c(r,n,a,o,m),c(n,r,o,a,m);const t=r[m],e=n&&n[m],d=t.length,p=n&&e.length;a.x=t[d-2],a.y=t[d-1],a.bx=parseFloat(t[d-4])||a.x,a.by=parseFloat(t[d-3])||a.y,o.bx=n&&(parseFloat(e[p-4])||o.x),o.by=n&&(parseFloat(e[p-3])||o.y),o.x=n&&e[p-2],o.y=n&&e[p-1]}return n?[r,n]:r}const xn=function(t,e,r,n){return[t,e,r,n,r,n]},Cn=function(t,e,r,n,a,o){var s=.3333333333333333,i=2/3;return[s*t+i*r,s*e+i*n,s*a+i*r,s*o+i*n,a,o]},kn=function(t,e,r,n,a,o,s,i,c,l){var h,u=120*Math.PI/180,f=Math.PI/180*(+a||0),m=[],d=function(t,e,r){return{x:t*Math.cos(r)-e*Math.sin(r),y:t*Math.sin(r)+e*Math.cos(r)}};if(l)I=l[0],x=l[1],_=l[2],v=l[3];else{t=(h=d(t,e,-f)).x,e=h.y;var p=(t-(i=(h=d(i,c,-f)).x))/2,g=(e-(c=h.y))/2,b=p*p/(r*r)+g*g/(n*n);b>1&&(r*=b=Math.sqrt(b),n*=b);var y=r*r,M=n*n,w=(o==s?-1:1)*Math.sqrt(Math.abs((y*M-y*g*g-M*p*p)/(y*g*g+M*p*p))),_=w*r*g/n+(t+i)/2,v=w*-n*p/r+(e+c)/2,I=Math.asin(+((e-v)/n).toFixed(9)),x=Math.asin(+((c-v)/n).toFixed(9));I=t<_?Math.PI-I:I,x=i<_?Math.PI-x:x,I<0&&(I=2*Math.PI+I),x<0&&(x=2*Math.PI+x),s&&I>x&&(I-=2*Math.PI),!s&&x>I&&(x-=2*Math.PI)}var C=x-I;if(Math.abs(C)>u){var k=x,N=i,$=c;x=I+u*(s&&x>I?1:-1),i=_+r*Math.cos(x),c=v+n*Math.sin(x),m=kn(i,c,r,n,a,0,s,N,$,[x,k,_,v])}C=x-I;var E=Math.cos(I),A=Math.sin(I),R=Math.cos(x),S=Math.sin(x),B=Math.tan(C/4),P=4/3*r*B,j=4/3*n*B,F=[t,e],q=[t+P*A,e-j*E],L=[i+P*S,c-j*R],D=[i,c];if(q[0]=2*F[0]-q[0],q[1]=2*F[1]-q[1],l)return[q,L,D].concat(m);for(var O=[],z=0,T=(m=[q,L,D].concat(m).join().split(",")).length;z<T;z++)O[z]=z%2?d(m[z-1],m[z],f).y:d(m[z],m[z+1],f).x;return O},Nn=/,?([a-z]),?/gi;function $n(t){return t.join(",").replace(Nn,"$1")}function En(t){if(!t||!Array.isArray(t)||0===t.length)return An(0,0,0,0);let e=0,r=0;const n=[],a=[];let o;for(let h=0,u=t.length;h<u;h++)if(o=t[h],"M"==o[0])e=isFinite(o[1])?o[1]:0,r=isFinite(o[2])?o[2]:0,n.push(e),a.push(r);else{const t=e,s=r,i=isFinite(o[1])?o[1]:0,c=isFinite(o[2])?o[2]:0,l=isFinite(o[3])?o[3]:0,h=isFinite(o[4])?o[4]:0,u=isFinite(o[5])?o[5]:0,f=isFinite(o[6])?o[6]:0,m=Rn(t,s,i,c,l,h,u,f);isFinite(m.min.x)&&isFinite(m.max.x)&&isFinite(m.min.y)&&isFinite(m.max.y)&&(n.push(m.min.x,m.max.x),a.push(m.min.y,m.max.y)),e=u,r=f}if(0===n.length||0===a.length)return An(0,0,0,0);const s=Math.min(...n),i=Math.min(...a),c=Math.max(...n),l=Math.max(...a);return isFinite(s)&&isFinite(i)&&isFinite(c)&&isFinite(l)?An(s,i,c-s,l-i):An(0,0,0,0)}const An=function(t,e,r,n){return{x:t=isFinite(t)?t:0,y:e=isFinite(e)?e:0,w:r=isFinite(r)?r:0,h:n=isFinite(n)?n:0,cx:t+r/2,cy:e+n/2}},Rn=function(t,e,r,n,a,o,s,i){for(var c,l,h,u,f,m,d,p,g=[],b=[[],[]],y=0;y<2;++y)if(0==y?(l=6*t-12*r+6*a,c=-3*t+9*r-9*a+3*s,h=3*r-3*t):(l=6*e-12*n+6*o,c=-3*e+9*n-9*o+3*i,h=3*n-3*e),Math.abs(c)<1e-12){if(Math.abs(l)<1e-12)continue;0<(u=-h/l)&&u<1&&g.push(u)}else d=l*l-4*h*c,p=Math.sqrt(d),!(d<0)&&(0<(f=(-l+p)/(2*c))&&f<1&&g.push(f),0<(m=(-l-p)/(2*c))&&m<1&&g.push(m));for(var M,w=g.length,_=w;w--;)M=1-(u=g[w]),b[0][w]=M*M*M*t+3*M*M*u*r+3*M*u*u*a+u*u*u*s,b[1][w]=M*M*M*e+3*M*M*u*n+3*M*u*u*o+u*u*u*i;return b[0][_]=t,b[1][_]=e,b[0][_+1]=s,b[1][_+1]=i,b[0].length=b[1].length=_+2,{min:{x:Math.min.apply(0,b[0]),y:Math.min.apply(0,b[1])},max:{x:Math.max.apply(0,b[0]),y:Math.max.apply(0,b[1])}}};function Sn(t,e){const[r,n,a,o]=t.values,[s,i,c,l]=e.values,h=c/a,u=l/o;return{scaleX:h,scaleY:u,translateX:s-r*h,translateY:i-n*u}}function Bn(t,e,r){return[t*r.scaleX+r.translateX,e*r.scaleY+r.translateY]}function Pn(t,e="",r){const n={gradients:{},patterns:{},others:{}};for(const[a,o]of Object.entries(t.gradients)){const t=e+a;let s=o;s=s.replace(new RegExp(`id="${a}"`,"g"),`id="${t}"`),s=s.replace(new RegExp(`id='${a}'`,"g"),`id='${t}'`),r&&(s=jn(s,r)),n.gradients[t]=s}for(const[a,o]of Object.entries(t.patterns)){const t=e+a;let s=o;s=s.replace(new RegExp(`id="${a}"`,"g"),`id="${t}"`),s=s.replace(new RegExp(`id='${a}'`,"g"),`id='${t}'`),r&&(s=Fn(s,r)),n.patterns[t]=s}for(const[a,o]of Object.entries(t.others)){const t=e+a;let r=o;r=r.replace(new RegExp(`id="${a}"`,"g"),`id="${t}"`),r=r.replace(new RegExp(`id='${a}'`,"g"),`id='${t}'`),n.others[t]=r}return n}function jn(t,e){let r=t;return t.includes("linearGradient")&&(r=r.replace(/\b(x1|y1|x2|y2)=["']([^"']+)["']/g,(t,r,n)=>`${r}="${qn(r,n,e)}"`)),t.includes("radialGradient")&&(r=r.replace(/\b(cx|cy|fx|fy|r)=["']([^"']+)["']/g,(t,r,n)=>`${r}="${qn(r,n,e)}"`)),r}function Fn(t,e){let r=t;return r=r.replace(/\b(x|y|width|height)=["']([^"']+)["']/g,(t,r,n)=>`${r}="${qn(r,n,e)}"`),r}function qn(t,e,r){if(e.endsWith("%"))return e;const n=parseFloat(e);if(isNaN(n))return e;let a;switch(t){case"x1":case"x2":case"cx":case"fx":case"x":a=n*r.scaleX+r.translateX;break;case"y1":case"y2":case"cy":case"fy":case"y":a=n*r.scaleY+r.translateY;break;case"r":a=n*Math.sqrt(r.scaleX*r.scaleY);break;case"width":a=n*r.scaleX;break;case"height":a=n*r.scaleY;break;default:a=n}return a.toFixed(3)}function Ln(t,e,r){let n={...e};for(const[a,o]of Object.entries(n))if("string"==typeof o&&o.startsWith("url(#")){const t=o.match(/url\(#([^)]+)\)/);t&&r[t[1]]&&(n[a]=`url(#${r[t[1]]})`)}return{pathData:t,attrs:n}}class Dn{constructor(t,e,r){if(this._icons={},this._curIconId="",this._toIconId="",this._curIconItems=[],this._fromIconItems=[],this._toIconItems=[],this._morphNodes=[],this._morphG=null,this._svgDoc=null,!t)throw new Error('SVGMorpheus > "element" is required');let n;if("string"==typeof t){const e=document.querySelector(t);if(!e)throw new Error('SVGMorpheus > "element" query is not related to an existing DOM node');n=e}else n=t;if(e&&"object"!=typeof e)throw new Error('SVGMorpheus > "options" parameter must be an object');if(e=e||{},r&&"function"!=typeof r)throw new Error('SVGMorpheus > "callback" parameter must be a function');const a=this;this._icons={},this._curIconId=e.iconId||"",this._toIconId="",this._curIconItems=[],this._fromIconItems=[],this._toIconItems=[],this._morphNodes=[],this._morphG=null,this._startTime=void 0,this._defDuration=e.duration||750,this._defEasing=e.easing||"quad-in-out",this._defRotation=e.rotation||"clock",this._defCallback=r||function(){},this._duration=this._defDuration,this._easing=this._defEasing,this._rotation=this._defRotation,this._callback=this._defCallback,this._rafid=void 0,this._fnTick=function(t){a._startTime||(a._startTime=t);const e=Math.min((t-a._startTime)/a._duration,1);a._updateAnimationProgress(e),e<1?a._rafid=window.requestAnimationFrame(a._fnTick):""!==a._toIconId&&a._animationEnd()},"SVG"===n.nodeName.toUpperCase()?this._svgDoc=n:this._svgDoc=n.getSVGDocument(),this._svgDoc?a._init():n.addEventListener("load",function(){a._svgDoc=n.getSVGDocument(),a._init()},!1)}_init(){if(this._svgDoc){if("SVG"!==this._svgDoc.nodeName.toUpperCase()){const t=this._svgDoc.getElementsByTagName("svg");this._svgDoc=t[0]}if(this._svgDoc){let t="";const e=this._svgDoc.outerHTML,r=dn(e),n=pn(e),a=gn(e);for(let s=this._svgDoc.childNodes.length-1;s>=0;s--){const e=this._svgDoc.childNodes[s];if("G"===e.nodeName.toUpperCase()){const o=e,s=o.getAttribute("id");if(s){const i=[];let c=r||void 0,l=n,h=a;const u=o.getAttribute("data-original-viewbox");if(u){const t=u.trim().split(/\s+/).map(Number);4===t.length&&(c={values:[t[0],t[1],t[2],t[3]],original:u})}const f=o.outerHTML,m=pn(f);l={gradients:{...n.gradients,...m.gradients},patterns:{...n.patterns,...m.patterns},others:{...n.others,...m.others},raw:m.raw||n.raw},h={...a,...gn(f)};for(let t=0,e=o.childNodes.length;t<e;t++){const e=o.childNodes[t],r={path:"",attrs:{},style:{}};switch(e.nodeName.toUpperCase()){case"PATH":r.path=e.getAttribute("d")||"";break;case"CIRCLE":const t=e,n=parseFloat(t.getAttribute("cx")||"0"),a=parseFloat(t.getAttribute("cy")||"0"),o=parseFloat(t.getAttribute("r")||"0");r.path=`M${n-o},${a}a${o},${o} 0 1,0 ${2*o},0a${o},${o} 0 1,0 -${2*o},0z`;break;case"ELLIPSE":const s=e,i=parseFloat(s.getAttribute("cx")||"0"),c=parseFloat(s.getAttribute("cy")||"0"),l=parseFloat(s.getAttribute("rx")||"0"),h=parseFloat(s.getAttribute("ry")||"0");r.path=`M${i-l},${c}a${l},${h} 0 1,0 ${2*l},0a${l},${h} 0 1,0 -${2*l},0z`;break;case"RECT":const u=e,f=parseFloat(u.getAttribute("x")||"0"),m=parseFloat(u.getAttribute("y")||"0"),d=parseFloat(u.getAttribute("width")||"0"),p=parseFloat(u.getAttribute("height")||"0"),g=parseFloat(u.getAttribute("rx")||"0"),b=parseFloat(u.getAttribute("ry")||"0");r.path=g||b?`M${f+g},${m}l${d-2*g},0a${g},${b} 0 0,1 ${g},${b}l0,${p-2*b}a${g},${b} 0 0,1 -${g},${b}l${2*g-d},0a${g},${b} 0 0,1 -${g},-${b}l0,${2*b-p}a${g},${b} 0 0,1 ${g},-${b}z`:`M${f},${m}l${d},0l0,${p}l-${d},0z`;break;case"POLYGON":const y=(e.getAttribute("points")||"").split(/\s+/);let M="";for(let e=0,r=y.length;e<r;e++)M+=(e?"L":"M")+y[e];r.path=M+"z";break;case"LINE":const w=e,_=parseFloat(w.getAttribute("x1")||"0"),v=parseFloat(w.getAttribute("y1")||"0"),I=parseFloat(w.getAttribute("x2")||"0"),x=parseFloat(w.getAttribute("y2")||"0");r.path=`M${_},${v}L${I},${x}z`}if(""!==r.path){for(let n=0,a=e.attributes.length;n<a;n++){const t=e.attributes[n];if(t.specified){const e=t.name.toLowerCase();switch(e){case"fill":case"fill-opacity":case"opacity":case"stroke":case"stroke-opacity":case"stroke-width":r.attrs[e]=t.value}}}const t=e.style;for(let e=0,n=t.length;e<n;e++){const n=t[e];switch(n){case"fill":case"fill-opacity":case"opacity":case"stroke":case"stroke-opacity":case"stroke-width":r.style[n]=t[e]}}i.push(r)}}if(i.length>0){const t={id:s,items:i,viewBox:c,defs:l,rootAttrs:h};this._icons[s]=t}this._morphG?this._svgDoc.removeChild(e):(t=s,this._morphG=document.createElementNS("http://www.w3.org/2000/svg","g"),this._svgDoc.replaceChild(this._morphG,e))}}}const o=this._curIconId||t;""!==o&&(this._setupAnimation(o),this._updateAnimationProgress(1),this._animationEnd())}}}_setupAnimation(t){var e,r,n,a,o,s,i,c;if(t&&this._icons[t]){let l,h;this._toIconId=t,this._startTime=void 0,this._fromIconItems=sn(this._curIconItems),this._toIconItems=sn(this._icons[t].items);const u=this._icons[this._curIconId],f=this._icons[t],m=f.viewBox||(null==u?void 0:u.viewBox)||{values:[0,0,24,24],original:"0 0 24 24"};if(this._svgDoc&&this._svgDoc.setAttribute("viewBox",m.original),u&&u.viewBox&&f.viewBox){const t=Sn(u.viewBox,m),e=`from_${this._curIconId}_`,r={};u.defs&&(Object.keys(u.defs.gradients).forEach(t=>{r[t]=e+t}),Object.keys(u.defs.patterns).forEach(t=>{r[t]=e+t}),Object.keys(u.defs.others).forEach(t=>{r[t]=e+t})),this._fromIconItems=this._fromIconItems.map(e=>{const n=function(t,e){if(!t||!t.trim())return t;try{return $n(vn(_n(t)).map(t=>{const r=t[0],n=t.slice(1),a=[r];switch(r){case"M":case"L":if(n.length>=2){const[t,r]=Bn(n[0],n[1],e);a.push(t,r);for(let o=2;o<n.length;o+=2)if(o+1<n.length){const[t,r]=Bn(n[o],n[o+1],e);a.push(t,r)}}break;case"C":if(n.length>=6)for(let t=0;t<n.length;t+=2)if(t+1<n.length){const[r,o]=Bn(n[t],n[t+1],e);a.push(r,o)}break;case"Q":if(n.length>=4)for(let t=0;t<n.length;t+=2)if(t+1<n.length){const[r,o]=Bn(n[t],n[t+1],e);a.push(r,o)}break;case"A":if(n.length>=7){const t=n[0]*e.scaleX,r=n[1]*e.scaleY,[o,s]=Bn(n[5],n[6],e);a.push(t,r,n[2],n[3],n[4],o,s)}break;case"H":if(n.length>=1){const[t]=Bn(n[0],0,e);a.push(t)}break;case"V":if(n.length>=1){const[,t]=Bn(0,n[0],e);a.push(t)}break;case"Z":case"z":break;default:for(let t=0;t<n.length;t+=2)if(t+1<n.length){const[r,o]=Bn(n[t],n[t+1],e);a.push(r,o)}else a.push(n[t])}return a}))}catch(l){return console.warn("Path transformation failed:",l),t}}(e.path,t),a=Ln(n,e.attrs,r),o=Ln(n,e.style,r);return{...e,path:n,attrs:a.attrs,style:o.attrs}})}if(f.defs){const e=`to_${t}_`,r={};Object.keys(f.defs.gradients).forEach(t=>{r[t]=e+t}),Object.keys(f.defs.patterns).forEach(t=>{r[t]=e+t}),Object.keys(f.defs.others).forEach(t=>{r[t]=e+t}),this._toIconItems=this._toIconItems.map(t=>{const e=Ln(t.path,t.attrs,r),n=Ln(t.path,t.style,r);return{...t,attrs:e.attrs,style:n.attrs}}),this._injectTransformedDefs(u,f)}for(l=0,h=this._morphNodes.length;l<h;l++){const t=this._morphNodes[l];t.fromIconItemIdx=l,t.toIconItemIdx=l}const d=Math.max(this._fromIconItems.length,this._toIconItems.length);let p;for(l=0;l<d;l++)if(this._fromIconItems[l]||(this._toIconItems[l]?(p=En(In(this._toIconItems[l].path)),this._fromIconItems.push({path:"M"+p.cx+","+p.cy+"l0,0",attrs:{},style:{},trans:{rotate:[0,p.cx,p.cy]}})):this._fromIconItems.push({path:"M0,0l0,0",attrs:{},style:{},trans:{rotate:[0,0,0]}})),this._toIconItems[l]||(this._fromIconItems[l]?(p=En(In(this._fromIconItems[l].path)),this._toIconItems.push({path:"M"+p.cx+","+p.cy+"l0,0",attrs:{},style:{},trans:{rotate:[0,p.cx,p.cy]}})):this._toIconItems.push({path:"M0,0l0,0",attrs:{},style:{},trans:{rotate:[0,0,0]}})),!this._morphNodes[l]&&this._morphG){const t=document.createElementNS("http://www.w3.org/2000/svg","path");this._morphG.appendChild(t),this._morphNodes.push({node:t,fromIconItemIdx:l,toIconItemIdx:l})}for(l=0;l<d;l++){const t=this._fromIconItems[l],h=this._toIconItems[l],u=In(this._fromIconItems[l].path,this._toIconItems[l].path);t.curve=u[0],h.curve=u[1];const f=rn(this._fromIconItems[l].attrs,this._toIconItems[l].attrs,this._svgDoc);t.attrsNorm=f[0],h.attrsNorm=f[1],t.attrs=en(t.attrsNorm),h.attrs=en(h.attrsNorm);const m=rn(this._fromIconItems[l].style,this._toIconItems[l].style,this._svgDoc);t.styleNorm=m[0],h.styleNorm=m[1],t.style=en(t.styleNorm),h.style=en(h.styleNorm),p=En(h.curve);let d=0,g=0,b=0;for(let e=0;e<this._toIconItems.length;e++)if(this._toIconItems[e].curve){const t=En(this._toIconItems[e].curve);t&&!isNaN(t.cx)&&!isNaN(t.cy)&&(d+=t.cx,g+=t.cy,b++)}const y=b>0?{x:d/b,y:g/b}:{x:12,y:12};h.trans={rotate:[0,y.x,y.y]},t.trans?t.trans.rotate&&(t.trans.rotate[0]=0,t.trans.rotate[1]=y.x,t.trans.rotate[2]=y.y):t.trans={rotate:[0,y.x,y.y]};let M,w=this._rotation;switch("random"===w&&(w=Math.random()<.5?"counterclock":"clock"),w){case"none":(null==(e=t.trans)?void 0:e.rotate)&&(null==(r=h.trans)?void 0:r.rotate)&&(h.trans.rotate[0]=t.trans.rotate[0]);break;case"counterclock":(null==(n=t.trans)?void 0:n.rotate)&&(null==(a=h.trans)?void 0:a.rotate)?(h.trans.rotate[0]=t.trans.rotate[0]-360,M=-t.trans.rotate[0]%360,h.trans.rotate[0]+=M<180?M:M-360):(null==(o=h.trans)?void 0:o.rotate)&&(h.trans.rotate[0]=-360);break;default:(null==(s=t.trans)?void 0:s.rotate)&&(null==(i=h.trans)?void 0:i.rotate)?(h.trans.rotate[0]=t.trans.rotate[0]+360,M=t.trans.rotate[0]%360,h.trans.rotate[0]+=M<180?-M:360-M):(null==(c=h.trans)?void 0:c.rotate)&&(h.trans.rotate[0]=360)}}this._curIconItems=sn(this._fromIconItems)}}_updateAnimationProgress(t){let e,r,n,a;for(t=bn[this._easing](t),e=0,a=this._curIconItems.length;e<a;e++)this._fromIconItems[e].curve&&this._toIconItems[e].curve&&(this._curIconItems[e].curve=on(this._fromIconItems[e].curve,this._toIconItems[e].curve,t),this._curIconItems[e].path=$n(this._curIconItems[e].curve)),this._fromIconItems[e].attrsNorm&&this._toIconItems[e].attrsNorm&&(this._curIconItems[e].attrsNorm=tn(this._fromIconItems[e].attrsNorm,this._toIconItems[e].attrsNorm,t),this._curIconItems[e].attrs=en(this._curIconItems[e].attrsNorm)),this._fromIconItems[e].styleNorm&&this._toIconItems[e].styleNorm&&(this._curIconItems[e].styleNorm=tn(this._fromIconItems[e].styleNorm,this._toIconItems[e].styleNorm,t),this._curIconItems[e].style=en(this._curIconItems[e].styleNorm)),this._fromIconItems[e].trans&&this._toIconItems[e].trans&&(this._curIconItems[e].trans=nn(this._fromIconItems[e].trans,this._toIconItems[e].trans,t),this._curIconItems[e].transStr=an(this._curIconItems[e].trans));for(e=0,a=this._morphNodes.length;e<a;e++){const t=this._morphNodes[e];t.node.setAttribute("d",this._curIconItems[e].path);const a=this._curIconItems[e].attrs;for(r in a)t.node.setAttribute(r,a[r]);const o=this._curIconItems[e].style;for(n in o)t.node.style[n]=o[n];t.node.setAttribute("transform",this._curIconItems[e].transStr||"")}}_animationEnd(){for(let t=this._morphNodes.length-1;t>=0;t--){const e=this._morphNodes[t];if(this._toIconItems[t]){e.node.setAttribute("d",this._toIconItems[t].path);const r=this._toIconItems[t].attrs;for(const t in r)e.node.setAttribute(t,r[t]);const n=this._toIconItems[t].style;for(const t in n)e.node.style[t]=n[t];const a=this._toIconItems[t].transStr||"";e.node.setAttribute("transform",a)}else e.node.parentNode&&e.node.parentNode.removeChild(e.node),this._morphNodes.splice(t,1)}this._curIconId=this._toIconId,this._toIconId="",this._callback()}to(t,e,r){if(t!==this._toIconId){if(e&&"object"!=typeof e)throw new Error('SVGMorpheus.to() > "options" parameter must be an object');if(e=e||{},r&&"function"!=typeof r)throw new Error('SVGMorpheus.to() > "callback" parameter must be a function');this._rafid&&window.cancelAnimationFrame(this._rafid),this._duration=e.duration||this._defDuration,this._easing=e.easing||this._defEasing,this._rotation=e.rotation||this._defRotation,this._callback=r||this._defCallback,this._setupAnimation(t),this._rafid=window.requestAnimationFrame(this._fnTick)}}registerEasing(t,e){bn[t]=e}_injectTransformedDefs(t,e){if(!this._svgDoc)return;let r=this._svgDoc.querySelector("defs");if(r||(r=document.createElementNS("http://www.w3.org/2000/svg","defs"),this._svgDoc.insertBefore(r,this._svgDoc.firstChild)),t&&t.defs&&t.viewBox){const n=`from_${this._curIconId}_`,a=e.viewBox||{values:[0,0,24,24]},o=Sn(t.viewBox,a),s=Pn(t.defs,n,o);this._insertDefsContent(r,s)}if(e.defs){const t=`to_${e.id}_`,n=Pn(e.defs,t);this._insertDefsContent(r,n)}}_insertDefsContent(t,e){const r=new DOMParser;Object.values(e.gradients).forEach(e=>{try{const n=r.parseFromString(`<svg xmlns="http://www.w3.org/2000/svg">${e}</svg>`,"image/svg+xml").documentElement.firstElementChild;if(n){const e=document.importNode(n,!0);t.appendChild(e)}}catch(n){console.warn("Failed to parse gradient:",e,n)}}),Object.values(e.patterns).forEach(e=>{try{const n=r.parseFromString(`<svg xmlns="http://www.w3.org/2000/svg">${e}</svg>`,"image/svg+xml").documentElement.firstElementChild;if(n){const e=document.importNode(n,!0);t.appendChild(e)}}catch(n){console.warn("Failed to parse pattern:",e,n)}}),Object.values(e.others).forEach(e=>{try{const n=r.parseFromString(`<svg xmlns="http://www.w3.org/2000/svg">${e}</svg>`,"image/svg+xml").documentElement.firstElementChild;if(n){const e=document.importNode(n,!0);t.appendChild(e)}}catch(n){console.warn("Failed to parse other def:",e,n)}})}}export{Dn as SVGMorpheus,hn as bundleSvgs,un as bundleSvgsString,sn as clone,on as curveCalc,En as curvePathBBox,Dn as default,bn as easings,_n as parsePathString,In as path2curve,$n as path2string,vn as pathToAbsolute,tn as styleNormCalc,en as styleNormToString,rn as styleToNorm,an as trans2string,nn as transCalc};
